<div class="container mt-4">
  <div class="row justify-content-center">
    <div class="col-md-8">
          <form [formGroup]="perfilForm" (ngSubmit)="onSubmit()" *ngIf="editMode; else viewMode">
            <!-- usuario -->
            <div class="form-group">
              <label for="usuario">Usuario</label>
              <input type="text" id="usuario" class="form-control" formControlName="usuario"
                placeholder="Ingresa tu usuario completo" />
              <div *ngIf="perfilForm.get('usuario')?.invalid && perfilForm.get('usuario')?.touched" class="text-danger">
                El usuario es requerido.
              </div>
            </div>
            <!-- Nombre -->
            <div class="form-group">
              <label for="nombre">Nombre Completo</label>
              <input type="text" id="nombre" class="form-control" formControlName="nombre"
                placeholder="Ingresa tu nombre completo" />
              <div *ngIf="perfilForm.get('nombre')?.invalid && perfilForm.get('nombre')?.touched" class="text-danger">
                El nombre es requerido.
              </div>
            </div>

            <!-- Correo Electrónico -->
            <div class="form-group">
              <label for="email">Correo Electrónico</label>
              <input type="email" id="email" class="form-control" formControlName="email"
                placeholder="Ingresa tu correo electrónico" />
              <div *ngIf="perfilForm.get('email')?.invalid && perfilForm.get('email')?.touched" class="text-danger">
                Ingresa un correo electrónico válido.
              </div>
            </div>

            <!-- Teléfono -->
            <div class="form-group">
              <label for="telefono">Teléfono</label>
              <input type="text" id="telefono" class="form-control" formControlName="telefono"
                placeholder="Ingresa tu número de teléfono" />
            </div>

            <!-- Botones -->
            <div class="form-group text-center">
              <button type="submit" class="btn btn-sm ml-auto btn-primary" [disabled]="perfilForm.invalid">Guardar Cambios</button>
              <button type="button" class="btn btn-sm mr-auto btn-secondary ml-2" >Cancelar</button>
            </div>
          </form>

          <!-- Modo Vista -->
          <ng-template #viewMode>
            <div class="form-group">
              <label>Nombre Completo:</label>
              <p>{{ perfilForm.get('nombre')?.value || 'No disponible' }}</p>
            </div>
            <div class="form-group">
              <label>Usuario:</label>
              <p>{{ perfilForm.get('usuario')?.value || 'No disponible' }}</p>
            </div>
            <div class="form-group">
              <label>Correo Electrónico:</label>
              <p>{{ perfilForm.get('email')?.value || 'No disponible' }}</p>
            </div>
            <div class="form-group">
              <label>Teléfono:</label>
              <p>{{ perfilForm.get('telefono')?.value || 'No disponible' }}</p>
            </div>
          </ng-template>
    </div>
  </div>
</div>
