!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.TwoPayClient=n():t.TwoPayClient=n()}(window,(function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=155)}([function(t,n){var e=Array.isArray;t.exports=e},function(t,n,e){var r=e(25),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,n,e){t.exports=e(150),t.exports.default=t.exports},function(t,n,e){window,t.exports=function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,e){"use strict";function r(t,n,e){return(r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var o=new(Function.bind.apply(t,r));return e&&function(t,n){(Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}(o,e.prototype),o}).apply(null,arguments)}function o(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.r(n);var u,a,c=function(){function t(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.constructor.instance||(this.constructor.instance=this,this._container={}),this.constructor.instance}var n,e,u;return n=t,u=[{key:"isClass",value:function(t){return"function"==typeof t&&(/^class\s/.test(Function.prototype.toString.call(t))||/_classCallCheck/gim.test(Function.prototype.toString.call(t)))}},{key:"isFunction",value:function(t){return"function"==typeof t}}],(e=[{key:"register",value:function(t,n,e){var i=this;n=n.map((function(t){return"string"==typeof t&&i.get(t)?i.get(t):t})),this.constructor.isClass(e)?this._container[t]=r(e,o(n)):this.constructor.isFunction(e)?this._container[t]=e.apply(void 0,o(n)):this._container[t]=e}},{key:"get",value:function(t){return this._container[t]}}])&&i(n.prototype,e),u&&i(n,u),t}();(a="instance")in(u=c)?Object.defineProperty(u,a,{value:null,enumerable:!0,configurable:!0,writable:!0}):u[a]=null,n.default=new c}])},function(t,n,e){var r=e(88),o=e(91);t.exports=function(t,n){var e=o(t,n);return r(e)?e:void 0}},function(t,n,e){var r=e(8),o=e(63),i=e(64),u="[object Null]",a="[object Undefined]",c=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?a:u:c&&c in Object(t)?o(t):i(t)}},function(t,n){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n,e){var r=e(1).Symbol;t.exports=r},function(t,n,e){var r=e(78),o=e(79),i=e(80),u=e(81),a=e(82);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},function(t,n,e){var r=e(34);t.exports=function(t,n){for(var e=t.length;e--;)if(r(t[e][0],n))return e;return-1}},function(t,n,e){var r=e(4)(Object,"create");t.exports=r},function(t,n,e){var r=e(100);t.exports=function(t,n){var e=t.__data__;return r(n)?e["string"==typeof n?"string":"hash"]:e.map}},function(t,n,e){var r=e(21),o=1/0;t.exports=function(t){if("string"==typeof t||r(t))return t;var n=t+"";return"0"==n&&1/t==-o?"-0":n}},function(t,n,e){var r=e(60),o=e(69),i=e(16);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,n){var e=9007199254740991;t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=e}},function(t,n,e){var r=e(30),o=e(15);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,n){t.exports=function(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}},function(t,n,e){var r=e(4)(e(1),"Map");t.exports=r},function(t,n,e){var r=e(92),o=e(99),i=e(101),u=e(102),a=e(103);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},function(t,n,e){var r=e(0),o=e(21),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/;t.exports=function(t,n){if(r(t))return!1;var e=typeof t;return!("number"!=e&&"symbol"!=e&&"boolean"!=e&&null!=t&&!o(t))||(u.test(t)||!i.test(t)||null!=n&&t in Object(n))}},function(t,n,e){var r=e(5),o=e(6),i="[object Symbol]";t.exports=function(t){return"symbol"==typeof t||o(t)&&r(t)==i}},function(t,n){var e,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:i}catch(t){e=i}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,f=[],s=!1,l=-1;function h(){s&&c&&(s=!1,c.length?f=c.concat(f):l=-1,f.length&&p())}function p(){if(!s){var t=a(h);s=!0;for(var n=f.length;n;){for(c=f,f=[];++l<n;)c&&c[l].run();l=-1,n=f.length}c=null,s=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function v(){}o.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];f.push(new d(t,n)),1!==f.length||s||a(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,n,e){var r=e(57),o=e(73)(r);t.exports=o},function(t,n,e){var r=e(62),o=e(6),i=Object.prototype,u=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&u.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,n,e){(function(n){var e="object"==typeof n&&n&&n.Object===Object&&n;t.exports=e}).call(this,e(7))},function(t,n,e){(function(t){var r=e(1),o=e(65),i=n&&!n.nodeType&&n,u=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=u&&u.exports===i?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;t.exports=c}).call(this,e(27)(t))},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n){var e=9007199254740991,r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,n){var o=typeof t;return!!(n=null==n?e:n)&&("number"==o||"symbol"!=o&&r.test(t))&&t>-1&&t%1==0&&t<n}},function(t,n,e){var r=e(66),o=e(67),i=e(68),u=i&&i.isTypedArray,a=u?o(u):r;t.exports=a},function(t,n,e){var r=e(5),o=e(17),i="[object AsyncFunction]",u="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";t.exports=function(t){if(!o(t))return!1;var n=r(t);return n==u||n==a||n==i||n==c}},function(t,n){t.exports=function(t){return t}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,o=Array(r);++e<r;)o[e]=n(t[e],e,t);return o}},function(t,n,e){var r=e(9),o=e(83),i=e(84),u=e(85),a=e(86),c=e(87);function f(t){var n=this.__data__=new r(t);this.size=n.size}f.prototype.clear=o,f.prototype.delete=i,f.prototype.get=u,f.prototype.has=a,f.prototype.set=c,t.exports=f},function(t,n){t.exports=function(t,n){return t===n||t!=t&&n!=n}},function(t,n){var e=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return e.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,n,e){var r=e(104),o=e(6);t.exports=function t(n,e,i,u,a){return n===e||(null==n||null==e||!o(n)&&!o(e)?n!=n&&e!=e:r(n,e,i,u,t,a))}},function(t,n,e){var r=e(105),o=e(108),i=e(109),u=1,a=2;t.exports=function(t,n,e,c,f,s){var l=e&u,h=t.length,p=n.length;if(h!=p&&!(l&&p>h))return!1;var d=s.get(t);if(d&&s.get(n))return d==n;var v=-1,y=!0,w=e&a?new r:void 0;for(s.set(t,n),s.set(n,t);++v<h;){var g=t[v],m=n[v];if(c)var b=l?c(m,g,v,n,t,s):c(g,m,v,t,n,s);if(void 0!==b){if(b)continue;y=!1;break}if(w){if(!o(n,(function(t,n){if(!i(w,n)&&(g===t||f(g,t,e,c,s)))return w.push(n)}))){y=!1;break}}else if(g!==m&&!f(g,m,e,c,s)){y=!1;break}}return s.delete(t),s.delete(n),y}},function(t,n,e){var r=e(17);t.exports=function(t){return t==t&&!r(t)}},function(t,n){t.exports=function(t,n){return function(e){return null!=e&&(e[t]===n&&(void 0!==n||t in Object(e)))}}},function(t,n,e){var r=e(41),o=e(13);t.exports=function(t,n){for(var e=0,i=(n=r(n,t)).length;null!=t&&e<i;)t=t[o(n[e++])];return e&&e==i?t:void 0}},function(t,n,e){var r=e(0),o=e(20),i=e(129),u=e(42);t.exports=function(t,n){return r(t)?t:o(t,n)?[t]:i(u(t))}},function(t,n,e){var r=e(43);t.exports=function(t){return null==t?"":r(t)}},function(t,n,e){var r=e(8),o=e(32),i=e(0),u=e(21),a=1/0,c=r?r.prototype:void 0,f=c?c.toString:void 0;t.exports=function t(n){if("string"==typeof n)return n;if(i(n))return o(n,t)+"";if(u(n))return f?f.call(n):"";var e=n+"";return"0"==e&&1/n==-a?"-0":e}},function(t,n,e){var r=e(142),o=e(143),i=e(144);t.exports=function(t,n,e){return n==n?i(t,n,e):r(t,o,e)}},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n){},function(t,n,e){var r=e(56),o=e(23),i=e(74),u=e(0);t.exports=function(t,n){return(u(t)?r:o)(t,i(n))}},function(t,n,e){var r=e(32),o=e(75),i=e(138),u=e(0);t.exports=function(t,n){return(u(t)?r:i)(t,o(n,3))}},function(t,n,e){var r=e(43),o=e(139),i=e(141),u=e(145),a=e(146),c=e(42),f=/^\s+|\s+$/g;t.exports=function(t,n,e){if((t=c(t))&&(e||void 0===n))return t.replace(f,"");if(!t||!(n=r(n)))return t;var s=a(t),l=a(n),h=u(s,l),p=i(s,l)+1;return o(s,h,p).join("")}},function(t,n){var e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],r=e.join(","),o="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function i(t,n){n=n||{};var e,i,a,c=[],l=[],h=t.querySelectorAll(r);for(n.includeContainer&&o.call(t,r)&&(h=Array.prototype.slice.apply(h)).unshift(t),e=0;e<h.length;e++)u(i=h[e])&&(0===(a=f(i))?c.push(i):l.push({documentOrder:e,tabIndex:a,node:i}));return l.sort(s).map((function(t){return t.node})).concat(c)}function u(t){return!(!a(t)||function(t){return function(t){return l(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var n=function(t){for(var n=0;n<t.length;n++)if(t[n].checked)return t[n]}(t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]'));return!n||n===t}(t)}(t)||f(t)<0)}function a(t){return!(t.disabled||function(t){return l(t)&&"hidden"===t.type}(t)||function(t){return null===t.offsetParent||"hidden"===getComputedStyle(t).visibility}(t))}i.isTabbable=function(t){if(!t)throw new Error("No node provided");return!1!==o.call(t,r)&&u(t)},i.isFocusable=function(t){if(!t)throw new Error("No node provided");return!1!==o.call(t,c)&&a(t)};var c=e.concat("iframe").join(",");function f(t){var n=parseInt(t.getAttribute("tabindex"),10);return isNaN(n)?function(t){return"true"===t.contentEditable}(t)?0:t.tabIndex:n}function s(t,n){return t.tabIndex===n.tabIndex?t.documentOrder-n.documentOrder:t.tabIndex-n.tabIndex}function l(t){return"INPUT"===t.tagName}t.exports=i},function(t,n,e){"use strict";t.exports=e(55).polyfill()},function(t,n,e){(function(n,e){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,u=void 0,a=function(t,n){d[o]=t,d[o+1]=n,2===(o+=2)&&(u?u(v):b())},c="undefined"!=typeof window?window:void 0,f=c||{},s=f.MutationObserver||f.WebKitMutationObserver,l="undefined"==typeof self&&void 0!==n&&"[object process]"==={}.toString.call(n),h="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function p(){var t=setTimeout;return function(){return t(v,1)}}var d=new Array(1e3);function v(){for(var t=0;t<o;t+=2)(0,d[t])(d[t+1]),d[t]=void 0,d[t+1]=void 0;o=0}var y,w,g,m,b=void 0;function _(t,n){var e=this,r=new this.constructor(O);void 0===r[x]&&N(r);var o=e._state;if(o){var i=arguments[o-1];a((function(){return C(o,r,i,e._result)}))}else D(e,r,t,n);return r}function E(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var n=new this(O);return T(n,t),n}l?b=function(){return n.nextTick(v)}:s?(w=0,g=new s(v),m=document.createTextNode(""),g.observe(m,{characterData:!0}),b=function(){m.data=w=++w%2}):h?((y=new MessageChannel).port1.onmessage=v,b=function(){return y.port2.postMessage(0)}):b=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(v)}:p()}catch(t){return p()}}():p();var x=Math.random().toString(36).substring(2);function O(){}var j=void 0,A=1,S=2;function P(n,e,r){e.constructor===n.constructor&&r===_&&e.constructor.resolve===E?function(t,n){n._state===A?k(t,n._result):n._state===S?I(t,n._result):D(n,void 0,(function(n){return T(t,n)}),(function(n){return I(t,n)}))}(n,e):void 0===r?k(n,e):t(r)?function(t,n,e){a((function(t){var r=!1,o=function(t,n,e,r){try{t.call(n,e,r)}catch(t){return t}}(e,n,(function(e){r||(r=!0,n!==e?T(t,e):k(t,e))}),(function(n){r||(r=!0,I(t,n))}),t._label);!r&&o&&(r=!0,I(t,o))}),t)}(n,e,r):k(n,e)}function T(t,n){if(t===n)I(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=n),null===r||"object"!==o&&"function"!==o)k(t,n);else{var e=void 0;try{e=n.then}catch(n){return void I(t,n)}P(t,n,e)}var r,o}function R(t){t._onerror&&t._onerror(t._result),M(t)}function k(t,n){t._state===j&&(t._result=n,t._state=A,0!==t._subscribers.length&&a(M,t))}function I(t,n){t._state===j&&(t._state=S,t._result=n,a(R,t))}function D(t,n,e,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=n,o[i+A]=e,o[i+S]=r,0===i&&t._state&&a(M,t)}function M(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r=void 0,o=void 0,i=t._result,u=0;u<n.length;u+=3)r=n[u],o=n[u+e],r?C(e,r,o,i):o(i);t._subscribers.length=0}}function C(n,e,r,o){var i=t(r),u=void 0,a=void 0,c=!0;if(i){try{u=r(o)}catch(t){c=!1,a=t}if(e===u)return void I(e,new TypeError("A promises callback cannot return that same promise."))}else u=o;e._state!==j||(i&&c?T(e,u):!1===c?I(e,a):n===A?k(e,u):n===S&&I(e,u))}var W=0;function N(t){t[x]=W++,t._state=void 0,t._result=void 0,t._subscribers=[]}var L=function(){function t(t,n){this._instanceConstructor=t,this.promise=new t(O),this.promise[x]||N(this.promise),r(n)?(this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?k(this.promise,this._result):(this.length=this.length||0,this._enumerate(n),0===this._remaining&&k(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var n=0;this._state===j&&n<t.length;n++)this._eachEntry(t[n],n)},t.prototype._eachEntry=function(t,n){var e=this._instanceConstructor,r=e.resolve;if(r===E){var o=void 0,i=void 0,u=!1;try{o=t.then}catch(t){u=!0,i=t}if(o===_&&t._state!==j)this._settledAt(t._state,n,t._result);else if("function"!=typeof o)this._remaining--,this._result[n]=t;else if(e===U){var a=new e(O);u?I(a,i):P(a,t,o),this._willSettleAt(a,n)}else this._willSettleAt(new e((function(n){return n(t)})),n)}else this._willSettleAt(r(t),n)},t.prototype._settledAt=function(t,n,e){var r=this.promise;r._state===j&&(this._remaining--,t===S?I(r,e):this._result[n]=e),0===this._remaining&&k(r,this._result)},t.prototype._willSettleAt=function(t,n){var e=this;D(t,void 0,(function(t){return e._settledAt(A,n,t)}),(function(t){return e._settledAt(S,n,t)}))},t}(),U=function(){function n(t){this[x]=W++,this._result=this._state=void 0,this._subscribers=[],O!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof n?function(t,n){try{n((function(n){T(t,n)}),(function(n){I(t,n)}))}catch(n){I(t,n)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return n.prototype.catch=function(t){return this.then(null,t)},n.prototype.finally=function(n){var e=this.constructor;return t(n)?this.then((function(t){return e.resolve(n()).then((function(){return t}))}),(function(t){return e.resolve(n()).then((function(){throw t}))})):this.then(n,n)},n}();return U.prototype.then=_,U.all=function(t){return new L(this,t).promise},U.race=function(t){var n=this;return r(t)?new n((function(e,r){for(var o=t.length,i=0;i<o;i++)n.resolve(t[i]).then(e,r)})):new n((function(t,n){return n(new TypeError("You must pass an array to race."))}))},U.resolve=E,U.reject=function(t){var n=new this(O);return I(n,t),n},U._setScheduler=function(t){u=t},U._setAsap=function(t){a=t},U._asap=a,U.polyfill=function(){var t=void 0;if(void 0!==e)t=e;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var r=null;try{r=Object.prototype.toString.call(n.resolve())}catch(t){}if("[object Promise]"===r&&!n.cast)return}t.Promise=U},U.Promise=U,U},t.exports=r()}).call(this,e(22),e(7))},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}},function(t,n,e){var r=e(58),o=e(14);t.exports=function(t,n){return t&&r(t,n,o)}},function(t,n,e){var r=e(59)();t.exports=r},function(t,n){t.exports=function(t){return function(n,e,r){for(var o=-1,i=Object(n),u=r(n),a=u.length;a--;){var c=u[t?a:++o];if(!1===e(i[c],c,i))break}return n}}},function(t,n,e){var r=e(61),o=e(24),i=e(0),u=e(26),a=e(28),c=e(29),f=Object.prototype.hasOwnProperty;t.exports=function(t,n){var e=i(t),s=!e&&o(t),l=!e&&!s&&u(t),h=!e&&!s&&!l&&c(t),p=e||s||l||h,d=p?r(t.length,String):[],v=d.length;for(var y in t)!n&&!f.call(t,y)||p&&("length"==y||l&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||a(y,v))||d.push(y);return d}},function(t,n){t.exports=function(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}},function(t,n,e){var r=e(5),o=e(6),i="[object Arguments]";t.exports=function(t){return o(t)&&r(t)==i}},function(t,n,e){var r=e(8),o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var n=i.call(t,a),e=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=u.call(t);return r&&(n?t[a]=e:delete t[a]),o}},function(t,n){var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},function(t,n){t.exports=function(){return!1}},function(t,n,e){var r=e(5),o=e(15),i=e(6),u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u["[object Arguments]"]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u["[object Function]"]=u["[object Map]"]=u["[object Number]"]=u["[object Object]"]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!u[r(t)]}},function(t,n){t.exports=function(t){return function(n){return t(n)}}},function(t,n,e){(function(t){var r=e(25),o=n&&!n.nodeType&&n,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,u=i&&i.exports===o&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||u&&u.binding&&u.binding("util")}catch(t){}}();t.exports=a}).call(this,e(27)(t))},function(t,n,e){var r=e(70),o=e(71),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var n=[];for(var e in Object(t))i.call(t,e)&&"constructor"!=e&&n.push(e);return n}},function(t,n){var e=Object.prototype;t.exports=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e)}},function(t,n,e){var r=e(72)(Object.keys,Object);t.exports=r},function(t,n){t.exports=function(t,n){return function(e){return t(n(e))}}},function(t,n,e){var r=e(16);t.exports=function(t,n){return function(e,o){if(null==e)return e;if(!r(e))return t(e,o);for(var i=e.length,u=n?i:-1,a=Object(e);(n?u--:++u<i)&&!1!==o(a[u],u,a););return e}}},function(t,n,e){var r=e(31);t.exports=function(t){return"function"==typeof t?t:r}},function(t,n,e){var r=e(76),o=e(127),i=e(31),u=e(0),a=e(135);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?u(t)?o(t[0],t[1]):r(t):a(t)}},function(t,n,e){var r=e(77),o=e(126),i=e(39);t.exports=function(t){var n=o(t);return 1==n.length&&n[0][2]?i(n[0][0],n[0][1]):function(e){return e===t||r(e,t,n)}}},function(t,n,e){var r=e(33),o=e(36),i=1,u=2;t.exports=function(t,n,e,a){var c=e.length,f=c,s=!a;if(null==t)return!f;for(t=Object(t);c--;){var l=e[c];if(s&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++c<f;){var h=(l=e[c])[0],p=t[h],d=l[1];if(s&&l[2]){if(void 0===p&&!(h in t))return!1}else{var v=new r;if(a)var y=a(p,d,h,t,n,v);if(!(void 0===y?o(d,p,i|u,a,v):y))return!1}}return!0}},function(t,n){t.exports=function(){this.__data__=[],this.size=0}},function(t,n,e){var r=e(10),o=Array.prototype.splice;t.exports=function(t){var n=this.__data__,e=r(n,t);return!(e<0)&&(e==n.length-1?n.pop():o.call(n,e,1),--this.size,!0)}},function(t,n,e){var r=e(10);t.exports=function(t){var n=this.__data__,e=r(n,t);return e<0?void 0:n[e][1]}},function(t,n,e){var r=e(10);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,n,e){var r=e(10);t.exports=function(t,n){var e=this.__data__,o=r(e,t);return o<0?(++this.size,e.push([t,n])):e[o][1]=n,this}},function(t,n,e){var r=e(9);t.exports=function(){this.__data__=new r,this.size=0}},function(t,n){t.exports=function(t){var n=this.__data__,e=n.delete(t);return this.size=n.size,e}},function(t,n){t.exports=function(t){return this.__data__.get(t)}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n,e){var r=e(9),o=e(18),i=e(19),u=200;t.exports=function(t,n){var e=this.__data__;if(e instanceof r){var a=e.__data__;if(!o||a.length<u-1)return a.push([t,n]),this.size=++e.size,this;e=this.__data__=new i(a)}return e.set(t,n),this.size=e.size,this}},function(t,n,e){var r=e(30),o=e(89),i=e(17),u=e(35),a=/^\[object .+?Constructor\]$/,c=Function.prototype,f=Object.prototype,s=c.toString,l=f.hasOwnProperty,h=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:a).test(u(t))}},function(t,n,e){var r,o=e(90),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,n,e){var r=e(1)["__core-js_shared__"];t.exports=r},function(t,n){t.exports=function(t,n){return null==t?void 0:t[n]}},function(t,n,e){var r=e(93),o=e(9),i=e(18);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,n,e){var r=e(94),o=e(95),i=e(96),u=e(97),a=e(98);function c(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=u,c.prototype.set=a,t.exports=c},function(t,n,e){var r=e(11);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,n){t.exports=function(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}},function(t,n,e){var r=e(11),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;if(r){var e=n[t];return e===o?void 0:e}return i.call(n,t)?n[t]:void 0}},function(t,n,e){var r=e(11),o=Object.prototype.hasOwnProperty;t.exports=function(t){var n=this.__data__;return r?void 0!==n[t]:o.call(n,t)}},function(t,n,e){var r=e(11),o="__lodash_hash_undefined__";t.exports=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=r&&void 0===n?o:n,this}},function(t,n,e){var r=e(12);t.exports=function(t){var n=r(this,t).delete(t);return this.size-=n?1:0,n}},function(t,n){t.exports=function(t){var n=typeof t;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==t:null===t}},function(t,n,e){var r=e(12);t.exports=function(t){return r(this,t).get(t)}},function(t,n,e){var r=e(12);t.exports=function(t){return r(this,t).has(t)}},function(t,n,e){var r=e(12);t.exports=function(t,n){var e=r(this,t),o=e.size;return e.set(t,n),this.size+=e.size==o?0:1,this}},function(t,n,e){var r=e(33),o=e(37),i=e(110),u=e(114),a=e(121),c=e(0),f=e(26),s=e(29),l=1,h="[object Arguments]",p="[object Array]",d="[object Object]",v=Object.prototype.hasOwnProperty;t.exports=function(t,n,e,y,w,g){var m=c(t),b=c(n),_=m?p:a(t),E=b?p:a(n),x=(_=_==h?d:_)==d,O=(E=E==h?d:E)==d,j=_==E;if(j&&f(t)){if(!f(n))return!1;m=!0,x=!1}if(j&&!x)return g||(g=new r),m||s(t)?o(t,n,e,y,w,g):i(t,n,_,e,y,w,g);if(!(e&l)){var A=x&&v.call(t,"__wrapped__"),S=O&&v.call(n,"__wrapped__");if(A||S){var P=A?t.value():t,T=S?n.value():n;return g||(g=new r),w(P,T,e,y,g)}}return!!j&&(g||(g=new r),u(t,n,e,y,w,g))}},function(t,n,e){var r=e(19),o=e(106),i=e(107);function u(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new r;++n<e;)this.add(t[n])}u.prototype.add=u.prototype.push=o,u.prototype.has=i,t.exports=u},function(t,n){var e="__lodash_hash_undefined__";t.exports=function(t){return this.__data__.set(t,e),this}},function(t,n){t.exports=function(t){return this.__data__.has(t)}},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}},function(t,n){t.exports=function(t,n){return t.has(n)}},function(t,n,e){var r=e(8),o=e(111),i=e(34),u=e(37),a=e(112),c=e(113),f=1,s=2,l="[object Boolean]",h="[object Date]",p="[object Error]",d="[object Map]",v="[object Number]",y="[object RegExp]",w="[object Set]",g="[object String]",m="[object Symbol]",b="[object ArrayBuffer]",_="[object DataView]",E=r?r.prototype:void 0,x=E?E.valueOf:void 0;t.exports=function(t,n,e,r,E,O,j){switch(e){case _:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case b:return!(t.byteLength!=n.byteLength||!O(new o(t),new o(n)));case l:case h:case v:return i(+t,+n);case p:return t.name==n.name&&t.message==n.message;case y:case g:return t==n+"";case d:var A=a;case w:var S=r&f;if(A||(A=c),t.size!=n.size&&!S)return!1;var P=j.get(t);if(P)return P==n;r|=s,j.set(t,n);var T=u(A(t),A(n),r,E,O,j);return j.delete(t),T;case m:if(x)return x.call(t)==x.call(n)}return!1}},function(t,n,e){var r=e(1).Uint8Array;t.exports=r},function(t,n){t.exports=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t,r){e[++n]=[r,t]})),e}},function(t,n){t.exports=function(t){var n=-1,e=Array(t.size);return t.forEach((function(t){e[++n]=t})),e}},function(t,n,e){var r=e(115),o=1,i=Object.prototype.hasOwnProperty;t.exports=function(t,n,e,u,a,c){var f=e&o,s=r(t),l=s.length;if(l!=r(n).length&&!f)return!1;for(var h=l;h--;){var p=s[h];if(!(f?p in n:i.call(n,p)))return!1}var d=c.get(t);if(d&&c.get(n))return d==n;var v=!0;c.set(t,n),c.set(n,t);for(var y=f;++h<l;){var w=t[p=s[h]],g=n[p];if(u)var m=f?u(g,w,p,n,t,c):u(w,g,p,t,n,c);if(!(void 0===m?w===g||a(w,g,e,u,c):m)){v=!1;break}y||(y="constructor"==p)}if(v&&!y){var b=t.constructor,_=n.constructor;b!=_&&"constructor"in t&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _)&&(v=!1)}return c.delete(t),c.delete(n),v}},function(t,n,e){var r=e(116),o=e(118),i=e(14);t.exports=function(t){return r(t,i,o)}},function(t,n,e){var r=e(117),o=e(0);t.exports=function(t,n,e){var i=n(t);return o(t)?i:r(i,e(t))}},function(t,n){t.exports=function(t,n){for(var e=-1,r=n.length,o=t.length;++e<r;)t[o+e]=n[e];return t}},function(t,n,e){var r=e(119),o=e(120),i=Object.prototype.propertyIsEnumerable,u=Object.getOwnPropertySymbols,a=u?function(t){return null==t?[]:(t=Object(t),r(u(t),(function(n){return i.call(t,n)})))}:o;t.exports=a},function(t,n){t.exports=function(t,n){for(var e=-1,r=null==t?0:t.length,o=0,i=[];++e<r;){var u=t[e];n(u,e,t)&&(i[o++]=u)}return i}},function(t,n){t.exports=function(){return[]}},function(t,n,e){var r=e(122),o=e(18),i=e(123),u=e(124),a=e(125),c=e(5),f=e(35),s=f(r),l=f(o),h=f(i),p=f(u),d=f(a),v=c;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||u&&"[object Set]"!=v(new u)||a&&"[object WeakMap]"!=v(new a))&&(v=function(t){var n=c(t),e="[object Object]"==n?t.constructor:void 0,r=e?f(e):"";if(r)switch(r){case s:return"[object DataView]";case l:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case d:return"[object WeakMap]"}return n}),t.exports=v},function(t,n,e){var r=e(4)(e(1),"DataView");t.exports=r},function(t,n,e){var r=e(4)(e(1),"Promise");t.exports=r},function(t,n,e){var r=e(4)(e(1),"Set");t.exports=r},function(t,n,e){var r=e(4)(e(1),"WeakMap");t.exports=r},function(t,n,e){var r=e(38),o=e(14);t.exports=function(t){for(var n=o(t),e=n.length;e--;){var i=n[e],u=t[i];n[e]=[i,u,r(u)]}return n}},function(t,n,e){var r=e(36),o=e(128),i=e(132),u=e(20),a=e(38),c=e(39),f=e(13),s=1,l=2;t.exports=function(t,n){return u(t)&&a(n)?c(f(t),n):function(e){var u=o(e,t);return void 0===u&&u===n?i(e,t):r(n,u,s|l)}}},function(t,n,e){var r=e(40);t.exports=function(t,n,e){var o=null==t?void 0:r(t,n);return void 0===o?e:o}},function(t,n,e){var r=e(130),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,u=r((function(t){var n=[];return 46===t.charCodeAt(0)&&n.push(""),t.replace(o,(function(t,e,r,o){n.push(r?o.replace(i,"$1"):e||t)})),n}));t.exports=u},function(t,n,e){var r=e(131),o=500;t.exports=function(t){var n=r(t,(function(t){return e.size===o&&e.clear(),t})),e=n.cache;return n}},function(t,n,e){var r=e(19),o="Expected a function";function i(t,n){if("function"!=typeof t||null!=n&&"function"!=typeof n)throw new TypeError(o);var e=function(){var r=arguments,o=n?n.apply(this,r):r[0],i=e.cache;if(i.has(o))return i.get(o);var u=t.apply(this,r);return e.cache=i.set(o,u)||i,u};return e.cache=new(i.Cache||r),e}i.Cache=r,t.exports=i},function(t,n,e){var r=e(133),o=e(134);t.exports=function(t,n){return null!=t&&o(t,n,r)}},function(t,n){t.exports=function(t,n){return null!=t&&n in Object(t)}},function(t,n,e){var r=e(41),o=e(24),i=e(0),u=e(28),a=e(15),c=e(13);t.exports=function(t,n,e){for(var f=-1,s=(n=r(n,t)).length,l=!1;++f<s;){var h=c(n[f]);if(!(l=null!=t&&e(t,h)))break;t=t[h]}return l||++f!=s?l:!!(s=null==t?0:t.length)&&a(s)&&u(h,s)&&(i(t)||o(t))}},function(t,n,e){var r=e(136),o=e(137),i=e(20),u=e(13);t.exports=function(t){return i(t)?r(u(t)):o(t)}},function(t,n){t.exports=function(t){return function(n){return null==n?void 0:n[t]}}},function(t,n,e){var r=e(40);t.exports=function(t){return function(n){return r(n,t)}}},function(t,n,e){var r=e(23),o=e(16);t.exports=function(t,n){var e=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++e]=n(t,r,o)})),i}},function(t,n,e){var r=e(140);t.exports=function(t,n,e){var o=t.length;return e=void 0===e?o:e,!n&&e>=o?t:r(t,n,e)}},function(t,n){t.exports=function(t,n,e){var r=-1,o=t.length;n<0&&(n=-n>o?0:o+n),(e=e>o?o:e)<0&&(e+=o),o=n>e?0:e-n>>>0,n>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+n];return i}},function(t,n,e){var r=e(44);t.exports=function(t,n){for(var e=t.length;e--&&r(n,t[e],0)>-1;);return e}},function(t,n){t.exports=function(t,n,e,r){for(var o=t.length,i=e+(r?1:-1);r?i--:++i<o;)if(n(t[i],i,t))return i;return-1}},function(t,n){t.exports=function(t){return t!=t}},function(t,n){t.exports=function(t,n,e){for(var r=e-1,o=t.length;++r<o;)if(t[r]===n)return r;return-1}},function(t,n,e){var r=e(44);t.exports=function(t,n){for(var e=-1,o=t.length;++e<o&&r(n,t[e],0)>-1;);return e}},function(t,n,e){var r=e(147),o=e(148),i=e(149);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,n){t.exports=function(t){return t.split("")}},function(t,n){var e=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return e.test(t)}},function(t,n){var e="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",u="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",f="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,u,a].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),s="(?:"+[i+r+"?",r,u,a,e].join("|")+")",l=RegExp(o+"(?="+o+")|"+s+f,"g");t.exports=function(t){return t.match(l)||[]}},function(t,n,e){(function(n,e,r){var o;"undefined"!=typeof self&&self,o=function(){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=0)}([function(t,n,r){"use strict";function o(t){return"[object RegExp]"===Object.prototype.toString.call(t)}r.r(n);var i={MOCK:"mock:",FILE:"file:",ABOUT:"about:"},u="*",a={IFRAME:"iframe",POPUP:"popup"},c="Call was rejected by callee.\r\n";function f(t){return void 0===t&&(t=window),t.location.protocol===i.ABOUT}function s(t){if(void 0===t&&(t=window),t)try{if(t.parent&&t.parent!==t)return t.parent}catch(t){}}function l(t){if(void 0===t&&(t=window),t&&!s(t))try{return t.opener}catch(t){}}function h(t){try{return t&&t.location&&t.location.href,!0}catch(t){}return!1}function p(t){void 0===t&&(t=window);var n=t.location;if(!n)throw new Error("Can not read window location");var e=n.protocol;if(!e)throw new Error("Can not read window protocol");if(e===i.FILE)return i.FILE+"//";if(e===i.ABOUT){var r=s(t);return r&&h(r)?p(r):i.ABOUT+"//"}var o=n.host;if(!o)throw new Error("Can not read window host");return e+"//"+o}function d(t){void 0===t&&(t=window);var n=p(t);return n&&t.mockDomain&&0===t.mockDomain.indexOf(i.MOCK)?t.mockDomain:n}function v(t){if(!function(t){try{if(t===window)return!0}catch(t){}try{var n=Object.getOwnPropertyDescriptor(t,"location");if(n&&!1===n.enumerable)return!1}catch(t){}try{if(f(t)&&h(t))return!0}catch(t){}try{if(p(t)===p(window))return!0}catch(t){}return!1}(t))return!1;try{if(t===window)return!0;if(f(t)&&h(t))return!0;if(d(window)===d(t))return!0}catch(t){}return!1}function y(t){if(!v(t))throw new Error("Expected window to be same domain");return t}function w(t,n){if(!t||!n)return!1;var e=s(n);return e?e===t:-1!==function(t){var n=[];try{for(;t.parent!==t;)n.push(t.parent),t=t.parent}catch(t){}return n}(n).indexOf(t)}function g(t){var n,e,r=[];try{n=t.frames}catch(e){n=t}try{e=n.length}catch(t){}if(0===e)return r;if(e){for(var o=0;o<e;o++){var i=void 0;try{i=n[o]}catch(t){continue}r.push(i)}return r}for(var u=0;u<100;u++){var a=void 0;try{a=n[u]}catch(t){return r}if(!a)return r;r.push(a)}return r}function m(t){for(var n=[],e=0,r=g(t);e<r.length;e++){var o=r[e];n.push(o);for(var i=0,u=m(o);i<u.length;i++){var a=u[i];n.push(a)}}return n}function b(t){void 0===t&&(t=window);try{if(t.top)return t.top}catch(t){}if(s(t)===t)return t;try{if(w(window,t)&&window.top)return window.top}catch(t){}try{if(w(t,window)&&window.top)return window.top}catch(t){}for(var n=0,e=m(t);n<e.length;n++){var r=e[n];try{if(r.top)return r.top}catch(t){}if(s(r)===r)return r}}var _=[],E=[];function x(t,n){void 0===n&&(n=!0);try{if(t===window)return!1}catch(t){return!0}try{if(!t)return!0}catch(t){return!0}try{if(t.closed)return!0}catch(t){return!t||t.message!==c}if(n&&v(t))try{if(t.mockclosed)return!0}catch(t){}try{if(!t.parent||!t.top)return!0}catch(t){}var e=function(t,n){for(var e=0;e<t.length;e++)try{if(t[e]===n)return e}catch(t){}return-1}(_,t);if(-1!==e){var r=E[e];if(r&&function(t){if(!t.contentWindow)return!0;if(!t.parentNode)return!0;var n=t.ownerDocument;return!(!n||!n.documentElement||n.documentElement.contains(t))}(r))return!0}return!1}function O(t){void 0===t&&(t=window);var n=l(t=t||window);if(n)return n;var e=s(t);return e||void 0}function j(t,n){if("string"==typeof t){if("string"==typeof n)return t===u||n===t;if(o(n))return!1;if(Array.isArray(n))return!1}return o(t)?o(n)?t.toString()===n.toString():!Array.isArray(n)&&Boolean(n.match(t)):!!Array.isArray(t)&&(Array.isArray(n)?JSON.stringify(t)===JSON.stringify(n):!o(n)&&t.some((function(t){return j(t,n)})))}function A(t){try{if(t===window)return!0}catch(t){if(t&&t.message===c)return!0}try{if("[object Window]"===Object.prototype.toString.call(t))return!0}catch(t){if(t&&t.message===c)return!0}try{if(window.Window&&t instanceof window.Window)return!0}catch(t){if(t&&t.message===c)return!0}try{if(t&&t.self===t)return!0}catch(t){if(t&&t.message===c)return!0}try{if(t&&t.parent===t)return!0}catch(t){if(t&&t.message===c)return!0}try{if(t&&t.top===t)return!0}catch(t){if(t&&t.message===c)return!0}try{if(t&&"__unlikely_value__"===t.__cross_domain_utils_window_check__)return!1}catch(t){return!0}return!1}function S(t){try{t.close()}catch(t){}}function P(t){try{if(!t)return!1;if("undefined"!=typeof Promise&&t instanceof Promise)return!0;if("undefined"!=typeof window&&"function"==typeof window.Window&&t instanceof window.Window)return!1;if("undefined"!=typeof window&&"function"==typeof window.constructor&&t instanceof window.constructor)return!1;var n={}.toString;if(n){var e=n.call(t);if("[object Window]"===e||"[object global]"===e||"[object DOMWindow]"===e)return!1}if("function"==typeof t.then)return!0}catch(t){return!1}return!1}var T,R=[],k=[],I=0;function D(){if(!I&&T){var t=T;T=null,t.resolve()}}function M(){I+=1}function C(){I-=1,D()}var W=function(){function t(t){var n=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],t){var e,r,o=!1,i=!1,u=!1;M();try{t((function(t){u?n.resolve(t):(o=!0,e=t)}),(function(t){u?n.reject(t):(i=!0,r=t)}))}catch(t){return C(),void this.reject(t)}C(),u=!0,o?this.resolve(e):i&&this.reject(r)}}var n=t.prototype;return n.resolve=function(t){if(this.resolved||this.rejected)return this;if(P(t))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=t,this.dispatch(),this},n.reject=function(t){var n=this;if(this.resolved||this.rejected)return this;if(P(t))throw new Error("Can not reject promise with another promise");if(!t){var e=t&&"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t);t=new Error("Expected reject to be called with Error, got "+e)}return this.rejected=!0,this.error=t,this.errorHandled||setTimeout((function(){n.errorHandled||function(t,n){if(-1===R.indexOf(t)){R.push(t),setTimeout((function(){throw t}),1);for(var e=0;e<k.length;e++)k[e](t,n)}}(t,n)}),1),this.dispatch(),this},n.asyncReject=function(t){return this.errorHandled=!0,this.reject(t),this},n.dispatch=function(){var n=this.dispatching,e=this.resolved,r=this.rejected,o=this.handlers;if(!n&&(e||r)){this.dispatching=!0,M();for(var i=function(t,n){return t.then((function(t){n.resolve(t)}),(function(t){n.reject(t)}))},u=0;u<o.length;u++){var a=o[u],c=a.onSuccess,f=a.onError,s=a.promise,l=void 0;if(e)try{l=c?c(this.value):this.value}catch(t){s.reject(t);continue}else if(r){if(!f){s.reject(this.error);continue}try{l=f(this.error)}catch(t){s.reject(t);continue}}l instanceof t&&(l.resolved||l.rejected)?(l.resolved?s.resolve(l.value):s.reject(l.error),l.errorHandled=!0):P(l)?l instanceof t&&(l.resolved||l.rejected)?l.resolved?s.resolve(l.value):s.reject(l.error):i(l,s):s.resolve(l)}o.length=0,this.dispatching=!1,C()}},n.then=function(n,e){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.then expected a function for success handler");if(e&&"function"!=typeof e&&!e.call)throw new Error("Promise.then expected a function for error handler");var r=new t;return this.handlers.push({promise:r,onSuccess:n,onError:e}),this.errorHandled=!0,this.dispatch(),r},n.catch=function(t){return this.then(void 0,t)},n.finally=function(n){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.finally expected a function");return this.then((function(e){return t.try(n).then((function(){return e}))}),(function(e){return t.try(n).then((function(){throw e}))}))},n.timeout=function(t,n){var e=this;if(this.resolved||this.rejected)return this;var r=setTimeout((function(){e.resolved||e.rejected||e.reject(n||new Error("Promise timed out after "+t+"ms"))}),t);return this.then((function(t){return clearTimeout(r),t}))},n.toPromise=function(){if("undefined"==typeof Promise)throw new TypeError("Could not find Promise");return Promise.resolve(this)},t.resolve=function(n){return n instanceof t?n:P(n)?new t((function(t,e){return n.then(t,e)})):(new t).resolve(n)},t.reject=function(n){return(new t).reject(n)},t.asyncReject=function(n){return(new t).asyncReject(n)},t.all=function(n){var e=new t,r=n.length,o=[];if(!r)return e.resolve(o),e;for(var i=function(t,n,i){return n.then((function(n){o[t]=n,0==(r-=1)&&e.resolve(o)}),(function(t){i.reject(t)}))},u=0;u<n.length;u++){var a=n[u];if(a instanceof t){if(a.resolved){o[u]=a.value,r-=1;continue}}else if(!P(a)){o[u]=a,r-=1;continue}i(u,t.resolve(a),e)}return 0===r&&e.resolve(o),e},t.hash=function(n){var e={};return t.all(Object.keys(n).map((function(r){return t.resolve(n[r]).then((function(t){e[r]=t}))}))).then((function(){return e}))},t.map=function(n,e){return t.all(n.map(e))},t.onPossiblyUnhandledException=function(t){return function(t){return k.push(t),{cancel:function(){k.splice(k.indexOf(t),1)}}}(t)},t.try=function(n,e,r){if(n&&"function"!=typeof n&&!n.call)throw new Error("Promise.try expected a function");var o;M();try{o=n.apply(e,r||[])}catch(n){return C(),t.reject(n)}return C(),t.resolve(o)},t.delay=function(n){return new t((function(t){setTimeout(t,n)}))},t.isPromise=function(n){return!!(n&&n instanceof t)||P(n)},t.flush=function(){return n=t,e=T=T||new n,D(),e;var n,e},t}();function N(){return(N=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t}).apply(this,arguments)}function L(t,n){for(var e=0;e<t.length;e++)try{if(t[e]===n)return e}catch(t){}return-1}var U,B=function(){function t(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if("undefined"==typeof WeakMap)return!1;if(void 0===Object.freeze)return!1;try{var t=new WeakMap,n={};return Object.freeze(n),t.set(n,"__testvalue__"),"__testvalue__"===t.get(n)}catch(t){return!1}}())try{this.weakmap=new WeakMap}catch(t){}this.keys=[],this.values=[]}var n=t.prototype;return n._cleanupClosedWindows=function(){for(var t=this.weakmap,n=this.keys,e=0;e<n.length;e++){var r=n[e];if(A(r)&&x(r)){if(t)try{t.delete(r)}catch(t){}n.splice(e,1),this.values.splice(e,1),e-=1}}},n.isSafeToReadWrite=function(t){if(A(t))return!1;try{t&&t.self,t&&t[this.name]}catch(t){return!1}return!0},n.set=function(t,n){if(!t)throw new Error("WeakMap expected key");var e=this.weakmap;if(e)try{e.set(t,n)}catch(t){delete this.weakmap}if(this.isSafeToReadWrite(t))try{var r=this.name,o=t[r];return void(o&&o[0]===t?o[1]=n:Object.defineProperty(t,r,{value:[t,n],writable:!0}))}catch(t){}this._cleanupClosedWindows();var i=this.keys,u=this.values,a=L(i,t);-1===a?(i.push(t),u.push(n)):u[a]=n},n.get=function(t){if(!t)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(t))return n.get(t)}catch(t){delete this.weakmap}if(this.isSafeToReadWrite(t))try{var e=t[this.name];return e&&e[0]===t?e[1]:void 0}catch(t){}this._cleanupClosedWindows();var r=L(this.keys,t);if(-1!==r)return this.values[r]},n.delete=function(t){if(!t)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{n.delete(t)}catch(t){delete this.weakmap}if(this.isSafeToReadWrite(t))try{var e=t[this.name];e&&e[0]===t&&(e[0]=e[1]=void 0)}catch(t){}this._cleanupClosedWindows();var r=this.keys,o=L(r,t);-1!==o&&(r.splice(o,1),this.values.splice(o,1))},n.has=function(t){if(!t)throw new Error("WeakMap expected key");var n=this.weakmap;if(n)try{if(n.has(t))return!0}catch(t){delete this.weakmap}if(this.isSafeToReadWrite(t))try{var e=t[this.name];return!(!e||e[0]!==t)}catch(t){}return this._cleanupClosedWindows(),-1!==L(this.keys,t)},n.getOrSet=function(t,n){if(this.has(t))return this.get(t);var e=n();return this.set(t,e),e},t}();function z(t){return t.name||t.__name__||t.displayName||"anonymous"}function F(t,n){try{delete t.name,t.name=n}catch(t){}return t.__name__=t.displayName=n,t}function Y(t){if("function"==typeof btoa)return btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/g,(function(t,n){return String.fromCharCode(parseInt(n,16))})));if(void 0!==e)return e.from(t,"utf8").toString("base64");throw new Error("Can not find window.btoa or Buffer")}function $(){var t="0123456789abcdef";return"xxxxxxxxxx".replace(/./g,(function(){return t.charAt(Math.floor(Math.random()*t.length))}))+"_"+Y((new Date).toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}function H(t){try{return JSON.stringify(Array.prototype.slice.call(t),(function(t,n){return"function"==typeof n?"memoize["+function(t){if(U=U||new B,null==t||"object"!=typeof t&&"function"!=typeof t)throw new Error("Invalid object");var n=U.get(t);return n||(n=typeof t+":"+$(),U.set(t,n)),n}(n)+"]":n}))}catch(t){throw new Error("Arguments not serializable -- can not be used to memoize")}}function q(t){var n={};function e(){for(var e=this,r=arguments,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];var a=H(i);return n.hasOwnProperty(a)?n[a]:(n[a]=W.try((function(){return t.apply(e,r)})).finally((function(){delete n[a]})),n[a])}return e.reset=function(){n={}},F(e,z(t)+"::promiseMemoized")}function G(){}function J(t,n){if(void 0===n&&(n=1),n>=3)return"stringifyError stack overflow";try{if(!t)return"<unknown error: "+Object.prototype.toString.call(t)+">";if("string"==typeof t)return t;if(t instanceof Error){var e=t&&t.stack,r=t&&t.message;if(e&&r)return-1!==e.indexOf(r)?e:r+"\n"+e;if(e)return e;if(r)return r}return t&&t.toString&&"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t)}catch(t){return"Error while stringifying error: "+J(t,n+1)}}function V(t){return"string"==typeof t?t:t&&t.toString&&"function"==typeof t.toString?t.toString():Object.prototype.toString.call(t)}function X(t,n){var e;return function r(){e=setTimeout((function(){t(),r()}),n)}(),{cancel:function(){clearTimeout(e)}}}function Z(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function K(t,n,e){if(t.hasOwnProperty(n))return t[n];var r=e();return t[n]=r,r}function Q(t){this.message=t}Q.prototype=Object.create(Error.prototype);var tt="postrobot_message_request",nt="postrobot_message_response",et="postrobot_message_ack",rt="success",ot="error",it={METHOD:"postrobot_method",HELLO:"postrobot_hello",OPEN_TUNNEL:"postrobot_open_tunnel"},ut="*",at={CROSS_DOMAIN_ZALGO_PROMISE:"cross_domain_zalgo_promise",CROSS_DOMAIN_FUNCTION:"cross_domain_function",CROSS_DOMAIN_WINDOW:"cross_domain_window"};function ct(t){return void 0===t&&(t=window),t!==window?t.__post_robot_10_0_29__:t.__post_robot_10_0_29__=t.__post_robot_10_0_29__||{}}var ft=function(){return{}};function st(t,n){return void 0===t&&(t="store"),void 0===n&&(n=ft),K(ct(),t,(function(){var t=n();return{has:function(n){return t.hasOwnProperty(n)},get:function(n,e){return t.hasOwnProperty(n)?t[n]:e},set:function(n,e){return t[n]=e,e},del:function(n){delete t[n]},getOrSet:function(n,e){return K(t,n,e)},reset:function(){t=n()},keys:function(){return Object.keys(t)}}}))}var lt=function(){};function ht(){var t=ct();return t.WINDOW_WILDCARD=t.WINDOW_WILDCARD||new lt,t.WINDOW_WILDCARD}function pt(t,n){return void 0===t&&(t="store"),void 0===n&&(n=ft),st("windowStore").getOrSet(t,(function(){var e=new B,r=function(t){return e.getOrSet(t,n)};return{has:function(n){return r(n).hasOwnProperty(t)},get:function(n,e){var o=r(n);return o.hasOwnProperty(t)?o[t]:e},set:function(n,e){return r(n)[t]=e,e},del:function(n){delete r(n)[t]},getOrSet:function(n,e){return K(r(n),t,e)}}}))}function dt(){return st("instance").getOrSet("instanceID",$)}function vt(t,n){var e=n.domain,r=pt("helloPromises"),o=r.get(t);o&&o.resolve({domain:e});var i=W.resolve({domain:e});return r.set(t,i),i}function yt(t,n){return(0,n.send)(t,it.HELLO,{instanceID:dt()},{domain:ut,timeout:-1}).then((function(n){var e=n.origin,r=n.data.instanceID;return vt(t,{domain:e}),{win:t,domain:e,instanceID:r}}))}function wt(t,n){var e=n.send;return pt("windowInstanceIDPromises").getOrSet(t,(function(){return yt(t,{send:e}).then((function(t){return t.instanceID}))}))}function gt(t){var n=t.on,e=t.send;return st("builtinListeners").getOrSet("helloListener",(function(){var t=n(it.HELLO,{domain:ut},(function(t){return vt(t.source,{domain:t.origin}),{instanceID:dt()}})),r=O();return r&&yt(r,{send:e}).catch(G),t}))}function mt(t,n,e){void 0===n&&(n=5e3),void 0===e&&(e="Window");var r=function(t){return pt("helloPromises").getOrSet(t,(function(){return new W}))}(t);return-1!==n&&(r=r.timeout(n,new Error(e+" did not load after "+n+"ms"))),r}function bt(t){pt("knownWindows").set(t,!0)}var _t,Et={FUNCTION:"function",ERROR:"error",PROMISE:"promise",REGEX:"regex",DATE:"date",ARRAY:"array",OBJECT:"object",STRING:"string",NUMBER:"number",BOOLEAN:"boolean",NULL:"null",UNDEFINED:"undefined"};function xt(t){return"object"==typeof t&&null!==t&&"string"==typeof t.__type__}function Ot(t){return void 0===t?Et.UNDEFINED:null===t?Et.NULL:Array.isArray(t)?Et.ARRAY:"function"==typeof t?Et.FUNCTION:"object"==typeof t?t instanceof Error?Et.ERROR:"function"==typeof t.then?Et.PROMISE:"[object RegExp]"===Object.prototype.toString.call(t)?Et.REGEX:"[object Date]"===Object.prototype.toString.call(t)?Et.DATE:Et.OBJECT:"string"==typeof t?Et.STRING:"number"==typeof t?Et.NUMBER:"boolean"==typeof t?Et.BOOLEAN:void 0}function jt(t,n){return{__type__:t,__val__:n}}var At,St=((_t={})[Et.FUNCTION]=function(){},_t[Et.ERROR]=function(t){var n=t.message,e=t.stack,r=t.code;return jt(Et.ERROR,{message:n,stack:e,code:r})},_t[Et.PROMISE]=function(){},_t[Et.REGEX]=function(t){return jt(Et.REGEX,t.source)},_t[Et.DATE]=function(t){return jt(Et.DATE,t.toJSON())},_t[Et.ARRAY]=function(t){return t},_t[Et.OBJECT]=function(t){return t},_t[Et.STRING]=function(t){return t},_t[Et.NUMBER]=function(t){return t},_t[Et.BOOLEAN]=function(t){return t},_t[Et.NULL]=function(t){return t},_t),Pt={},Tt=((At={})[Et.FUNCTION]=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},At[Et.ERROR]=function(t){var n=t.message,e=t.stack,r=t.code,o=new Error(n);return o.code=r,o.stack=e+"\n\n"+o.stack,o},At[Et.PROMISE]=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},At[Et.REGEX]=function(t){return new RegExp(t)},At[Et.DATE]=function(t){return new Date(t)},At[Et.ARRAY]=function(t){return t},At[Et.OBJECT]=function(t){return t},At[Et.STRING]=function(t){return t},At[Et.NUMBER]=function(t){return t},At[Et.BOOLEAN]=function(t){return t},At[Et.NULL]=function(t){return t},At),Rt={};function kt(){for(var t=st("idToProxyWindow"),n=0,e=t.keys();n<e.length;n++){var r=e[n];t.get(r).shouldClean()&&t.del(r)}}function It(t,n){var e=n.send,r=n.id,o=void 0===r?$():r,i=t.then((function(t){if(v(t))return y(t).name}));return{id:o,getType:function(){return t.then((function(t){return l(t)?a.POPUP:a.IFRAME}))},getInstanceID:q((function(){return t.then((function(t){return wt(t,{send:e})}))})),close:function(){return t.then(S)},getName:function(){return t.then((function(t){if(!x(t))return v(t)?y(t).name:i}))},focus:function(){return t.then((function(t){t.focus()}))},isClosed:function(){return t.then((function(t){return x(t)}))},setLocation:function(n){return t.then((function(t){if(v(t))try{if(t.location&&"function"==typeof t.location.replace)return void t.location.replace(n)}catch(t){}t.location=n}))},setName:function(n){return t.then((function(t){var e=v(t),r=function(t){if(v(t))return y(t).frameElement;for(var n=0,e=document.querySelectorAll("iframe");n<e.length;n++){var r=e[n];if(r&&r.contentWindow&&r.contentWindow===t)return r}}(t);if(!e)throw new Error("Can not set name for cross-domain window: "+n);y(t).name=n,r&&r.setAttribute("name",n),i=W.resolve(n)}))}}}new W((function(t){if(window.document&&window.document.body)return t(window.document.body);var n=setInterval((function(){if(window.document&&window.document.body)return clearInterval(n),t(window.document.body)}),10)}));var Dt=function(){function t(t){var n=t.send,e=t.win,r=t.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new W,this.serializedWindow=r||It(this.actualWindowPromise,{send:n}),st("idToProxyWindow").set(this.getID(),this),e&&this.setWindow(e,{send:n})}var n=t.prototype;return n.getID=function(){return this.serializedWindow.id},n.getType=function(){return this.serializedWindow.getType()},n.isPopup=function(){return this.getType().then((function(t){return t===a.POPUP}))},n.setLocation=function(t){var n=this;return this.serializedWindow.setLocation(t).then((function(){return n}))},n.getName=function(){return this.serializedWindow.getName()},n.setName=function(t){var n=this;return this.serializedWindow.setName(t).then((function(){return n}))},n.close=function(){var t=this;return this.serializedWindow.close().then((function(){return t}))},n.focus=function(){var t=this,n=this.isPopup(),e=this.getName(),r=W.hash({isPopup:n,name:e}).then((function(t){var n=t.isPopup,e=t.name;n&&e&&window.open("",e)})),o=this.serializedWindow.focus();return W.all([r,o]).then((function(){return t}))},n.isClosed=function(){return this.serializedWindow.isClosed()},n.getWindow=function(){return this.actualWindow},n.setWindow=function(t,n){var e=n.send;this.actualWindow=t,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=It(this.actualWindowPromise,{send:e,id:this.getID()}),pt("winToProxyWindow").set(t,this)},n.awaitWindow=function(){return this.actualWindowPromise},n.matchWindow=function(t,n){var e=this,r=n.send;return W.try((function(){return e.actualWindow?t===e.actualWindow:W.hash({proxyInstanceID:e.getInstanceID(),knownWindowInstanceID:wt(t,{send:r})}).then((function(n){var o=n.proxyInstanceID===n.knownWindowInstanceID;return o&&e.setWindow(t,{send:r}),o}))}))},n.unwrap=function(){return this.actualWindow||this},n.getInstanceID=function(){return this.serializedWindow.getInstanceID()},n.shouldClean=function(){return Boolean(this.actualWindow&&x(this.actualWindow))},n.serialize=function(){return this.serializedWindow},t.unwrap=function(n){return t.isProxyWindow(n)?n.unwrap():n},t.serialize=function(n,e){var r=e.send;return kt(),t.toProxyWindow(n,{send:r}).serialize()},t.deserialize=function(n,e){var r=e.send;return kt(),st("idToProxyWindow").get(n.id)||new t({serializedWindow:n,send:r})},t.isProxyWindow=function(t){return Boolean(t&&!A(t)&&t.isProxyWindow)},t.toProxyWindow=function(n,e){var r=e.send;if(kt(),t.isProxyWindow(n))return n;var o=n;return pt("winToProxyWindow").get(o)||new t({win:o,send:r})},t}();function Mt(t,n,e,r,o){var i=pt("methodStore"),u=st("proxyWindowMethods");Dt.isProxyWindow(r)?u.set(t,{val:n,name:e,domain:o,source:r}):(u.del(t),i.getOrSet(r,(function(){return{}}))[t]={domain:o,name:e,val:n,source:r})}function Ct(t,n){var e=pt("methodStore"),r=st("proxyWindowMethods");return e.getOrSet(t,(function(){return{}}))[n]||r.get(n)}function Wt(t,n,e,r,o){!function(t){var n=t.on,e=t.send;st("builtinListeners").getOrSet("functionCalls",(function(){return n(it.METHOD,{domain:ut},(function(t){var n=t.source,r=t.origin,o=t.data,i=o.id,u=o.name,a=Ct(n,i);if(!a)throw new Error("Could not find method '"+u+"' with id: "+o.id+" in "+d(window));var c=a.source,f=a.domain,s=a.val;return W.try((function(){if(!j(f,r))throw new Error("Method '"+o.name+"' domain "+JSON.stringify(Z(a.domain)?a.domain.source:a.domain)+" does not match origin "+r+" in "+d(window));if(Dt.isProxyWindow(c))return c.matchWindow(n,{send:e}).then((function(t){if(!t)throw new Error("Method call '"+o.name+"' failed - proxy window does not match source in "+d(window))}))})).then((function(){return s.apply({source:n,origin:r},o.args)}),(function(t){return W.try((function(){if(s.onError)return s.onError(t)})).then((function(){throw t.stack&&(t.stack="Remote call to "+u+"()\n\n"+t.stack),t}))})).then((function(t){return{result:t,id:i,name:u}}))}))}))}({on:o.on,send:o.send});var i=e.__id__||$();t=Dt.unwrap(t);var u=e.__name__||e.name||r;return"string"==typeof u&&"function"==typeof u.indexOf&&0===u.indexOf("anonymous::")&&(u=u.replace("anonymous::",r+"::")),Dt.isProxyWindow(t)?(Mt(i,e,u,t,n),t.awaitWindow().then((function(t){Mt(i,e,u,t,n)}))):Mt(i,e,u,t,n),jt(at.CROSS_DOMAIN_FUNCTION,{id:i,name:u})}function Nt(t,n,e,r){var o,i=r.on,u=r.send;return function(t,n){void 0===n&&(n=Pt);var e=JSON.stringify(t,(function(t){var e=this[t];if(xt(this))return e;var r=Ot(e);if(!r)return e;var o=n[r]||St[r];return o?o(e,t):e}));return void 0===e?Et.UNDEFINED:e}(e,((o={})[Et.PROMISE]=function(e,r){return function(t,n,e,r,o){var i=o.on,u=o.send;return jt(at.CROSS_DOMAIN_ZALGO_PROMISE,{then:Wt(t,n,(function(t,n){return e.then(t,n)}),r,{on:i,send:u})})}(t,n,e,r,{on:i,send:u})},o[Et.FUNCTION]=function(e,r){return Wt(t,n,e,r,{on:i,send:u})},o[Et.OBJECT]=function(t){return A(t)||Dt.isProxyWindow(t)?function(t,n,e,r){var o=r.send;return jt(at.CROSS_DOMAIN_WINDOW,Dt.serialize(e,{send:o}))}(0,0,t,{on:i,send:u}):t},o))}function Lt(t,n,e,r){var o,i=r.on,u=r.send;return function(t,n){if(void 0===n&&(n=Rt),t!==Et.UNDEFINED)return JSON.parse(t,(function(t,e){if(xt(this))return e;var r,o;if(xt(e)?(r=e.__type__,o=e.__val__):(r=Ot(e),o=e),!r)return o;var i=n[r]||Tt[r];return i?i(o,t):o}))}(e,((o={})[at.CROSS_DOMAIN_ZALGO_PROMISE]=function(t){return function(t,n,e){var r=e.then;return new W(r)}(0,0,t)},o[at.CROSS_DOMAIN_FUNCTION]=function(e){return function(t,n,e,r){var o=e.id,i=e.name,u=r.send,a=function(e){function r(){var a=arguments;return Dt.toProxyWindow(t,{send:u}).awaitWindow().then((function(t){var c=Ct(t,o);if(c&&c.val!==r)return c.val.apply({source:window,origin:d()},a);var f={domain:n,fireAndForget:e.fireAndForget},s=Array.prototype.slice.call(a);return u(t,it.METHOD,{id:o,name:i,args:s},f).then((function(t){if(!e.fireAndForget)return t.data.result}))})).catch((function(t){throw t}))}return void 0===e&&(e={}),r.__name__=i,r.__origin__=n,r.__source__=t,r.__id__=o,r.origin=n,r},c=a();return c.fireAndForget=a({fireAndForget:!0}),c}(t,n,e,{on:i,send:u})},o[at.CROSS_DOMAIN_WINDOW]=function(t){return function(t,n,e,r){var o=r.send;return Dt.deserialize(e,{send:o})}(0,0,t,{send:u})},o))}var Ut={};function Bt(t,n,e,r){var o,i=r.on,u=r.send;if(x(t))throw new Error("Window is closed");for(var a=Nt(t,n,((o={}).__post_robot_10_0_29__=N({id:$(),origin:d(window)},e),o),{on:i,send:u}),c=Object.keys(Ut),f=[],s=0;s<c.length;s++){var l=c[s];try{Ut[l](t,a,n)}catch(t){f.push(t)}}if(f.length===c.length)throw new Error("All post-robot messaging strategies failed:\n\n"+f.map((function(t,n){return n+". "+J(t)})).join("\n\n"))}Ut.postrobot_post_message=function(t,n,e){(Array.isArray(e)?e:"string"==typeof e?[e]:[ut]).map((function(t){return 0===t.indexOf(i.FILE)?ut:t})).forEach((function(e){t.postMessage(n,e)}))};var zt,Ft="__domain_regex__";function Yt(t){return st("responseListeners").get(t)}function $t(t){st("responseListeners").del(t)}function Ht(t){return st("erroredResponseListeners").has(t)}function qt(t){var n=t.name,e=t.win,r=t.domain,o=pt("requestListeners");if(e===ut&&(e=null),r===ut&&(r=null),!n)throw new Error("Name required to get request listener");for(var i=0,u=[e,ht()];i<u.length;i++){var a=u[i];if(a){var c=o.get(a);if(c){var f=c[n];if(f){if(r&&"string"==typeof r){if(f[r])return f[r];if(f[Ft])for(var s=0,l=f[Ft];s<l.length;s++){var h=l[s],p=h.regex,d=h.listener;if(j(p,r))return d}}if(f[ut])return f[ut]}}}}}var Gt=((zt={})[tt]=function(t,n,e,r){var o=r.on,i=r.send,u=qt({name:e.name,win:t,domain:n}),a=e.name===it.METHOD&&e.data&&"string"==typeof e.data.name?e.data.name+"()":e.name;function c(r,u,c){if(void 0===c&&(c={}),!e.fireAndForget&&!x(t))try{Bt(t,n,N({type:r,ack:u,hash:e.hash,name:e.name},c),{on:o,send:i})}catch(t){throw new Error("Send response message failed for "+a+" in "+d()+"\n\n"+J(t))}}return W.all([c(et),W.try((function(){if(!u)throw new Error("No handler found for post message: "+e.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!j(u.domain,n))throw new Error("Request origin "+n+" does not match domain "+u.domain.toString());var r=e.data;return u.handler({source:t,origin:n,data:r})})).then((function(t){return c(nt,rt,{data:t})}),(function(t){return c(nt,ot,{error:t})}))]).then(G).catch((function(t){if(u&&u.handleError)return u.handleError(t);throw t}))},zt[et]=function(t,n,e){if(!Ht(e.hash)){var r=Yt(e.hash);if(!r)throw new Error("No handler found for post message ack for message: "+e.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!j(r.domain,n))throw new Error("Ack origin "+n+" does not match domain "+r.domain.toString());if(t!==r.win)throw new Error("Ack source does not match registered window")}catch(t){r.promise.reject(t)}r.ack=!0}},zt[nt]=function(t,n,e){if(!Ht(e.hash)){var r,i=Yt(e.hash);if(!i)throw new Error("No handler found for post message response for message: "+e.name+" from "+n+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!j(i.domain,n))throw new Error("Response origin "+n+" does not match domain "+(r=i.domain,Array.isArray(r)?"("+r.join(" | ")+")":o(r)?"RegExp("+r.toString():r.toString()));if(t!==i.win)throw new Error("Response source does not match registered window");$t(e.hash),e.name===it.METHOD&&e.data&&"string"==typeof e.data.name?e.data.name:e.name,e.ack===ot?i.promise.reject(e.error):e.ack===rt&&i.promise.resolve({source:t,origin:n,data:e.data})}},zt);function Jt(t,n){var e=n.on,r=n.send,o=st("receivedMessages");try{if(!window||window.closed||!t.source)return}catch(t){return}var u=t.source,a=t.origin,c=function(t,n,e,r){var o,i=r.on,u=r.send;try{o=Lt(n,e,t,{on:i,send:u})}catch(t){return}if(o&&"object"==typeof o&&null!==o&&(o=o.__post_robot_10_0_29__)&&"object"==typeof o&&null!==o&&o.type&&"string"==typeof o.type&&Gt[o.type])return o}(t.data,u,a,{on:e,send:r});c&&(bt(u),o.has(c.id)||(o.set(c.id,!0),x(u)&&!c.fireAndForget||(0===c.origin.indexOf(i.FILE)&&(a=i.FILE+"//"),Gt[c.type](u,a,c,{on:e,send:r}))))}function Vt(t){var n=t.on,e=t.send;return st().getOrSet("postMessageListener",(function(){return function(t,n,e){return t.addEventListener(n,e),{cancel:function(){t.removeEventListener(n,e)}}}(window,"message",(function(t){!function(t,n){var e=n.on,r=n.send;try{t.source}catch(t){return}var o=t.source||t.sourceElement,u=t.origin||t.originalEvent&&t.originalEvent.origin,a=t.data;if("null"===u&&(u=i.FILE+"//"),o){if(!u)throw new Error("Post message did not have origin domain");Jt({source:o,origin:u,data:a},{on:e,send:r})}}(t,{on:n,send:e})}))}))}function Xt(t,n,e){if(!t)throw new Error("Expected name");if("function"==typeof n&&(e=n,n={}),!e)throw new Error("Expected handler");(n=n||{}).name=t,n.handler=e||n.handler;var r=n.window,o=n.domain,i=function t(n,e){var r=n.name,o=n.win,i=n.domain,u=pt("requestListeners");if(!r||"string"!=typeof r)throw new Error("Name required to add request listener");if(Array.isArray(o)){for(var a=[],c=0,f=o;c<f.length;c++){var s=f[c];a.push(t({name:r,domain:i,win:s},e))}return{cancel:function(){for(var t=0;t<a.length;t++)a[t].cancel()}}}if(Array.isArray(i)){for(var l=[],h=0,p=i;h<p.length;h++){var d=p[h];l.push(t({name:r,win:o,domain:d},e))}return{cancel:function(){for(var t=0;t<l.length;t++)l[t].cancel()}}}var v=qt({name:r,win:o,domain:i});if(o&&o!==ut||(o=ht()),i=i||ut,v)throw o&&i?new Error("Request listener already exists for "+r+" on domain "+i.toString()+" for "+(o===ht()?"wildcard":"specified")+" window"):o?new Error("Request listener already exists for "+r+" for "+(o===ht()?"wildcard":"specified")+" window"):i?new Error("Request listener already exists for "+r+" on domain "+i.toString()):new Error("Request listener already exists for "+r);var y,w,g=u.getOrSet(o,(function(){return{}})),m=K(g,r,(function(){return{}})),b=i.toString();return Z(i)?(y=K(m,Ft,(function(){return[]})),w={regex:i,listener:e},y.push(w)):m[b]=e,{cancel:function(){delete m[b],w&&(y.splice(y.indexOf(w,1)),y.length||delete m[Ft]),Object.keys(m).length||delete g[r],o&&!Object.keys(g).length&&u.del(o)}}}({name:t,win:r,domain:o},{handler:n.handler,handleError:n.errorHandler||function(t){throw t},window:r,domain:o||ut,name:t});return{cancel:function(){i.cancel()}}}function Zt(t,n,e){"function"==typeof(n=n||{})&&(e=n,n={});var r,o=new W;return n.errorHandler=function(t){r.cancel(),o.reject(t)},r=Xt(t,n,(function(t){if(r.cancel(),o.resolve(t),e)return e(t)})),o.cancel=r.cancel,o}var Kt=function t(n,e,r,o){var i=(o=o||{}).domain||ut,u=o.timeout||-1,a=o.timeout||5e3,c=o.fireAndForget||!1;return W.try((function(){if(function(t,n,e){if(!t)throw new Error("Expected name");if(e&&"string"!=typeof e&&!Array.isArray(e)&&!Z(e))throw new TypeError("Expected domain to be a string, array, or regex");if(x(n))throw new Error("Target window is closed")}(e,n,i),function(t,n){var e=O(n);if(e)return e===t;if(n===t)return!1;if(b(n)===n)return!1;for(var r=0,o=g(t);r<o.length;r++)if(o[r]===n)return!0;return!1}(window,n))return mt(n,a)})).then((function(e){var r=(void 0===e?{}:e).domain;return function(t,n,e,r){var o=r.send;return"string"==typeof n?W.resolve(n):W.try((function(){return e||yt(t,{send:o}).then((function(t){return t.domain}))})).then((function(t){if(!j(n,n))throw new Error("Domain "+V(n)+" does not match "+V(n));return t}))}(n,i,r,{send:t})})).then((function(o){i=o;var a=e===it.METHOD&&r&&"string"==typeof r.name?r.name+"()":e,f=new W,s=e+"_"+$();if(!c){var l={name:e,win:n,domain:i,promise:f};!function(t,n){st("responseListeners").set(t,n)}(s,l);var h=pt("requestPromises").getOrSet(n,(function(){return[]}));h.push(f),f.catch((function(){!function(t){st("erroredResponseListeners").set(t,!0)}(s),$t(s)}));var p=function(t){return pt("knownWindows").get(t,!1)}(n)?1e4:2e3,v=u,y=p,w=v,g=X((function(){return x(n)?f.reject(new Error("Window closed for "+e+" before "+(l.ack?"response":"ack"))):l.cancelled?f.reject(new Error("Response listener was cancelled for "+e)):(y=Math.max(y-500,0),-1!==w&&(w=Math.max(w-500,0)),l.ack||0!==y?0===w?f.reject(new Error("No response for postMessage "+a+" in "+d()+" in "+v+"ms")):void 0:f.reject(new Error("No ack for postMessage "+a+" in "+d()+" in "+p+"ms")))}),500);f.finally((function(){g.cancel(),h.splice(h.indexOf(f,1))})).catch(G)}try{Bt(n,i,{type:tt,hash:s,name:e,data:r,fireAndForget:c},{on:Xt,send:t})}catch(t){throw new Error("Send request message failed for "+a+" in "+d()+"\n\n"+J(t))}return c?f.resolve():f}))};function Qt(t,n,e){return Nt(t,n,e,{on:Xt,send:Kt})}function tn(t,n,e){return Lt(t,n,e,{on:Xt,send:Kt})}function nn(t){return new Dt({send:Kt,win:t})}function en(t){return Dt.toProxyWindow(t,{send:Kt})}function rn(){ct().initialized||(ct().initialized=!0,function(t){var n=t.on,e=t.send,r=ct();r.receiveMessage=r.receiveMessage||function(t){return Jt(t,{on:n,send:e})}}({on:Xt,send:Kt}),Vt({on:Xt,send:Kt}),gt({on:Xt,send:Kt}))}function on(){var t;!function(){for(var t=st("responseListeners"),n=0,e=t.keys();n<e.length;n++){var r=e[n],o=t.get(r);o&&(o.cancelled=!0),t.del(r)}}(),(t=st().get("postMessageListener"))&&t.cancel(),delete window.__post_robot_10_0_29__}function un(t){for(var n=0,e=pt("requestPromises").get(t,[]);n<e.length;n++)e[n].reject(new Error("Window cleaned up before response")).catch(G)}r.d(n,"bridge",(function(){})),r.d(n,"Promise",(function(){return W})),r.d(n,"TYPES",(function(){return!0})),r.d(n,"ProxyWindow",(function(){return Dt})),r.d(n,"setup",(function(){return rn})),r.d(n,"destroy",(function(){return on})),r.d(n,"serializeMessage",(function(){return Qt})),r.d(n,"deserializeMessage",(function(){return tn})),r.d(n,"createProxyWindow",(function(){return nn})),r.d(n,"toProxyWindow",(function(){return en})),r.d(n,"on",(function(){return Xt})),r.d(n,"once",(function(){return Zt})),r.d(n,"send",(function(){return Kt})),r.d(n,"markWindowKnown",(function(){return bt})),r.d(n,"cleanUpWindow",(function(){return un})),rn()}])},t.exports=o()}).call(this,e(22),e(151).Buffer,e(7))},function(t,n,e){"use strict";(function(t){var r=e(152),o=e(153),i=e(154);function u(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function a(t,n){if(u()<n)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(n)).__proto__=c.prototype:(null===t&&(t=new c(n)),t.length=n),t}function c(t,n,e){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,n,e);if("number"==typeof t){if("string"==typeof n)throw new Error("If encoding is specified then the first argument must be a string");return l(this,t)}return f(this,t,n,e)}function f(t,n,e,r){if("number"==typeof n)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer?function(t,n,e,r){if(n.byteLength,e<0||n.byteLength<e)throw new RangeError("'offset' is out of bounds");if(n.byteLength<e+(r||0))throw new RangeError("'length' is out of bounds");n=void 0===e&&void 0===r?new Uint8Array(n):void 0===r?new Uint8Array(n,e):new Uint8Array(n,e,r);c.TYPED_ARRAY_SUPPORT?(t=n).__proto__=c.prototype:t=h(t,n);return t}(t,n,e,r):"string"==typeof n?function(t,n,e){"string"==typeof e&&""!==e||(e="utf8");if(!c.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(n,e),o=(t=a(t,r)).write(n,e);o!==r&&(t=t.slice(0,o));return t}(t,n,e):function(t,n){if(c.isBuffer(n)){var e=0|p(n.length);return 0===(t=a(t,e)).length?t:(n.copy(t,0,0,e),t)}if(n){if("undefined"!=typeof ArrayBuffer&&n.buffer instanceof ArrayBuffer||"length"in n)return"number"!=typeof n.length||(r=n.length)!=r?a(t,0):h(t,n);if("Buffer"===n.type&&i(n.data))return h(t,n.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,n)}function s(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,n){if(s(n),t=a(t,n<0?0:0|p(n)),!c.TYPED_ARRAY_SUPPORT)for(var e=0;e<n;++e)t[e]=0;return t}function h(t,n){var e=n.length<0?0:0|p(n.length);t=a(t,e);for(var r=0;r<e;r+=1)t[r]=255&n[r];return t}function p(t){if(t>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|t}function d(t,n){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var e=t.length;if(0===e)return 0;for(var r=!1;;)switch(n){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return z(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*e;case"hex":return e>>>1;case"base64":return F(t).length;default:if(r)return z(t).length;n=(""+n).toLowerCase(),r=!0}}function v(t,n,e){var r=!1;if((void 0===n||n<0)&&(n=0),n>this.length)return"";if((void 0===e||e>this.length)&&(e=this.length),e<=0)return"";if((e>>>=0)<=(n>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,n,e);case"utf8":case"utf-8":return A(this,n,e);case"ascii":return P(this,n,e);case"latin1":case"binary":return T(this,n,e);case"base64":return j(this,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,n,e);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function y(t,n,e){var r=t[n];t[n]=t[e],t[e]=r}function w(t,n,e,r,o){if(0===t.length)return-1;if("string"==typeof e?(r=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=o?0:t.length-1),e<0&&(e=t.length+e),e>=t.length){if(o)return-1;e=t.length-1}else if(e<0){if(!o)return-1;e=0}if("string"==typeof n&&(n=c.from(n,r)),c.isBuffer(n))return 0===n.length?-1:g(t,n,e,r,o);if("number"==typeof n)return n&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,n,e):Uint8Array.prototype.lastIndexOf.call(t,n,e):g(t,[n],e,r,o);throw new TypeError("val must be string, number or Buffer")}function g(t,n,e,r,o){var i,u=1,a=t.length,c=n.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||n.length<2)return-1;u=2,a/=2,c/=2,e/=2}function f(t,n){return 1===u?t[n]:t.readUInt16BE(n*u)}if(o){var s=-1;for(i=e;i<a;i++)if(f(t,i)===f(n,-1===s?0:i-s)){if(-1===s&&(s=i),i-s+1===c)return s*u}else-1!==s&&(i-=i-s),s=-1}else for(e+c>a&&(e=a-c),i=e;i>=0;i--){for(var l=!0,h=0;h<c;h++)if(f(t,i+h)!==f(n,h)){l=!1;break}if(l)return i}return-1}function m(t,n,e,r){e=Number(e)||0;var o=t.length-e;r?(r=Number(r))>o&&(r=o):r=o;var i=n.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var u=0;u<r;++u){var a=parseInt(n.substr(2*u,2),16);if(isNaN(a))return u;t[e+u]=a}return u}function b(t,n,e,r){return Y(z(n,t.length-e),t,e,r)}function _(t,n,e,r){return Y(function(t){for(var n=[],e=0;e<t.length;++e)n.push(255&t.charCodeAt(e));return n}(n),t,e,r)}function E(t,n,e,r){return _(t,n,e,r)}function x(t,n,e,r){return Y(F(n),t,e,r)}function O(t,n,e,r){return Y(function(t,n){for(var e,r,o,i=[],u=0;u<t.length&&!((n-=2)<0);++u)e=t.charCodeAt(u),r=e>>8,o=e%256,i.push(o),i.push(r);return i}(n,t.length-e),t,e,r)}function j(t,n,e){return 0===n&&e===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(n,e))}function A(t,n,e){e=Math.min(t.length,e);for(var r=[],o=n;o<e;){var i,u,a,c,f=t[o],s=null,l=f>239?4:f>223?3:f>191?2:1;if(o+l<=e)switch(l){case 1:f<128&&(s=f);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&f)<<6|63&i)>127&&(s=c);break;case 3:i=t[o+1],u=t[o+2],128==(192&i)&&128==(192&u)&&(c=(15&f)<<12|(63&i)<<6|63&u)>2047&&(c<55296||c>57343)&&(s=c);break;case 4:i=t[o+1],u=t[o+2],a=t[o+3],128==(192&i)&&128==(192&u)&&128==(192&a)&&(c=(15&f)<<18|(63&i)<<12|(63&u)<<6|63&a)>65535&&c<1114112&&(s=c)}null===s?(s=65533,l=1):s>65535&&(s-=65536,r.push(s>>>10&1023|55296),s=56320|1023&s),r.push(s),o+=l}return function(t){var n=t.length;if(n<=S)return String.fromCharCode.apply(String,t);var e="",r=0;for(;r<n;)e+=String.fromCharCode.apply(String,t.slice(r,r+=S));return e}(r)}n.Buffer=c,n.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},n.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),n.kMaxLength=u(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,n,e){return f(null,t,n,e)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,n,e){return function(t,n,e,r){return s(n),n<=0?a(t,n):void 0!==e?"string"==typeof r?a(t,n).fill(e,r):a(t,n).fill(e):a(t,n)}(null,t,n,e)},c.allocUnsafe=function(t){return l(null,t)},c.allocUnsafeSlow=function(t){return l(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,n){if(!c.isBuffer(t)||!c.isBuffer(n))throw new TypeError("Arguments must be Buffers");if(t===n)return 0;for(var e=t.length,r=n.length,o=0,i=Math.min(e,r);o<i;++o)if(t[o]!==n[o]){e=t[o],r=n[o];break}return e<r?-1:r<e?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,n){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var e;if(void 0===n)for(n=0,e=0;e<t.length;++e)n+=t[e].length;var r=c.allocUnsafe(n),o=0;for(e=0;e<t.length;++e){var u=t[e];if(!c.isBuffer(u))throw new TypeError('"list" argument must be an Array of Buffers');u.copy(r,o),o+=u.length}return r},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var n=0;n<t;n+=2)y(this,n,n+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var n=0;n<t;n+=4)y(this,n,n+3),y(this,n+1,n+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var n=0;n<t;n+=8)y(this,n,n+7),y(this,n+1,n+6),y(this,n+2,n+5),y(this,n+3,n+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):v.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",e=n.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,n,e,r,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=0),void 0===e&&(e=t?t.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),n<0||e>t.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&n>=e)return 0;if(r>=o)return-1;if(n>=e)return 1;if(this===t)return 0;for(var i=(o>>>=0)-(r>>>=0),u=(e>>>=0)-(n>>>=0),a=Math.min(i,u),f=this.slice(r,o),s=t.slice(n,e),l=0;l<a;++l)if(f[l]!==s[l]){i=f[l],u=s[l];break}return i<u?-1:u<i?1:0},c.prototype.includes=function(t,n,e){return-1!==this.indexOf(t,n,e)},c.prototype.indexOf=function(t,n,e){return w(this,t,n,e,!0)},c.prototype.lastIndexOf=function(t,n,e){return w(this,t,n,e,!1)},c.prototype.write=function(t,n,e,r){if(void 0===n)r="utf8",e=this.length,n=0;else if(void 0===e&&"string"==typeof n)r=n,e=this.length,n=0;else{if(!isFinite(n))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");n|=0,isFinite(e)?(e|=0,void 0===r&&(r="utf8")):(r=e,e=void 0)}var o=this.length-n;if((void 0===e||e>o)&&(e=o),t.length>0&&(e<0||n<0)||n>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return m(this,t,n,e);case"utf8":case"utf-8":return b(this,t,n,e);case"ascii":return _(this,t,n,e);case"latin1":case"binary":return E(this,t,n,e);case"base64":return x(this,t,n,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,t,n,e);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function P(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;++o)r+=String.fromCharCode(127&t[o]);return r}function T(t,n,e){var r="";e=Math.min(t.length,e);for(var o=n;o<e;++o)r+=String.fromCharCode(t[o]);return r}function R(t,n,e){var r=t.length;(!n||n<0)&&(n=0),(!e||e<0||e>r)&&(e=r);for(var o="",i=n;i<e;++i)o+=B(t[i]);return o}function k(t,n,e){for(var r=t.slice(n,e),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(t,n,e){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+n>e)throw new RangeError("Trying to access beyond buffer length")}function D(t,n,e,r,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(n>o||n<i)throw new RangeError('"value" argument is out of bounds');if(e+r>t.length)throw new RangeError("Index out of range")}function M(t,n,e,r){n<0&&(n=65535+n+1);for(var o=0,i=Math.min(t.length-e,2);o<i;++o)t[e+o]=(n&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function C(t,n,e,r){n<0&&(n=4294967295+n+1);for(var o=0,i=Math.min(t.length-e,4);o<i;++o)t[e+o]=n>>>8*(r?o:3-o)&255}function W(t,n,e,r,o,i){if(e+r>t.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function N(t,n,e,r,i){return i||W(t,0,e,4),o.write(t,n,e,r,23,4),e+4}function L(t,n,e,r,i){return i||W(t,0,e,8),o.write(t,n,e,r,52,8),e+8}c.prototype.slice=function(t,n){var e,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(n=void 0===n?r:~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),n<t&&(n=t),c.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,n)).__proto__=c.prototype;else{var o=n-t;e=new c(o,void 0);for(var i=0;i<o;++i)e[i]=this[i+t]}return e},c.prototype.readUIntLE=function(t,n,e){t|=0,n|=0,e||I(t,n,this.length);for(var r=this[t],o=1,i=0;++i<n&&(o*=256);)r+=this[t+i]*o;return r},c.prototype.readUIntBE=function(t,n,e){t|=0,n|=0,e||I(t,n,this.length);for(var r=this[t+--n],o=1;n>0&&(o*=256);)r+=this[t+--n]*o;return r},c.prototype.readUInt8=function(t,n){return n||I(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,n){return n||I(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,n){return n||I(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,n){return n||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,n){return n||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,n,e){t|=0,n|=0,e||I(t,n,this.length);for(var r=this[t],o=1,i=0;++i<n&&(o*=256);)r+=this[t+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*n)),r},c.prototype.readIntBE=function(t,n,e){t|=0,n|=0,e||I(t,n,this.length);for(var r=n,o=1,i=this[t+--r];r>0&&(o*=256);)i+=this[t+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*n)),i},c.prototype.readInt8=function(t,n){return n||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,n){n||I(t,2,this.length);var e=this[t]|this[t+1]<<8;return 32768&e?4294901760|e:e},c.prototype.readInt16BE=function(t,n){n||I(t,2,this.length);var e=this[t+1]|this[t]<<8;return 32768&e?4294901760|e:e},c.prototype.readInt32LE=function(t,n){return n||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,n){return n||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,n){return n||I(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,n){return n||I(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,n){return n||I(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,n){return n||I(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,n,e,r){(t=+t,n|=0,e|=0,r)||D(this,t,n,e,Math.pow(2,8*e)-1,0);var o=1,i=0;for(this[n]=255&t;++i<e&&(o*=256);)this[n+i]=t/o&255;return n+e},c.prototype.writeUIntBE=function(t,n,e,r){(t=+t,n|=0,e|=0,r)||D(this,t,n,e,Math.pow(2,8*e)-1,0);var o=e-1,i=1;for(this[n+o]=255&t;--o>=0&&(i*=256);)this[n+o]=t/i&255;return n+e},c.prototype.writeUInt8=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[n]=255&t,n+1},c.prototype.writeUInt16LE=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):M(this,t,n,!0),n+2},c.prototype.writeUInt16BE=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):M(this,t,n,!1),n+2},c.prototype.writeUInt32LE=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n+3]=t>>>24,this[n+2]=t>>>16,this[n+1]=t>>>8,this[n]=255&t):C(this,t,n,!0),n+4},c.prototype.writeUInt32BE=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):C(this,t,n,!1),n+4},c.prototype.writeIntLE=function(t,n,e,r){if(t=+t,n|=0,!r){var o=Math.pow(2,8*e-1);D(this,t,n,e,o-1,-o)}var i=0,u=1,a=0;for(this[n]=255&t;++i<e&&(u*=256);)t<0&&0===a&&0!==this[n+i-1]&&(a=1),this[n+i]=(t/u>>0)-a&255;return n+e},c.prototype.writeIntBE=function(t,n,e,r){if(t=+t,n|=0,!r){var o=Math.pow(2,8*e-1);D(this,t,n,e,o-1,-o)}var i=e-1,u=1,a=0;for(this[n+i]=255&t;--i>=0&&(u*=256);)t<0&&0===a&&0!==this[n+i+1]&&(a=1),this[n+i]=(t/u>>0)-a&255;return n+e},c.prototype.writeInt8=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[n]=255&t,n+1},c.prototype.writeInt16LE=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8):M(this,t,n,!0),n+2},c.prototype.writeInt16BE=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>8,this[n+1]=255&t):M(this,t,n,!1),n+2},c.prototype.writeInt32LE=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[n]=255&t,this[n+1]=t>>>8,this[n+2]=t>>>16,this[n+3]=t>>>24):C(this,t,n,!0),n+4},c.prototype.writeInt32BE=function(t,n,e){return t=+t,n|=0,e||D(this,t,n,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[n]=t>>>24,this[n+1]=t>>>16,this[n+2]=t>>>8,this[n+3]=255&t):C(this,t,n,!1),n+4},c.prototype.writeFloatLE=function(t,n,e){return N(this,t,n,!0,e)},c.prototype.writeFloatBE=function(t,n,e){return N(this,t,n,!1,e)},c.prototype.writeDoubleLE=function(t,n,e){return L(this,t,n,!0,e)},c.prototype.writeDoubleBE=function(t,n,e){return L(this,t,n,!1,e)},c.prototype.copy=function(t,n,e,r){if(e||(e=0),r||0===r||(r=this.length),n>=t.length&&(n=t.length),n||(n=0),r>0&&r<e&&(r=e),r===e)return 0;if(0===t.length||0===this.length)return 0;if(n<0)throw new RangeError("targetStart out of bounds");if(e<0||e>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-n<r-e&&(r=t.length-n+e);var o,i=r-e;if(this===t&&e<n&&n<r)for(o=i-1;o>=0;--o)t[o+n]=this[o+e];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+n]=this[o+e];else Uint8Array.prototype.set.call(t,this.subarray(e,e+i),n);return i},c.prototype.fill=function(t,n,e,r){if("string"==typeof t){if("string"==typeof n?(r=n,n=0,e=this.length):"string"==typeof e&&(r=e,e=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(n<0||this.length<n||this.length<e)throw new RangeError("Out of range index");if(e<=n)return this;var i;if(n>>>=0,e=void 0===e?this.length:e>>>0,t||(t=0),"number"==typeof t)for(i=n;i<e;++i)this[i]=t;else{var u=c.isBuffer(t)?t:z(new c(t,r).toString()),a=u.length;for(i=0;i<e-n;++i)this[i+n]=u[i%a]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(t){return t<16?"0"+t.toString(16):t.toString(16)}function z(t,n){var e;n=n||1/0;for(var r=t.length,o=null,i=[],u=0;u<r;++u){if((e=t.charCodeAt(u))>55295&&e<57344){if(!o){if(e>56319){(n-=3)>-1&&i.push(239,191,189);continue}if(u+1===r){(n-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(n-=3)>-1&&i.push(239,191,189),o=e;continue}e=65536+(o-55296<<10|e-56320)}else o&&(n-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((n-=1)<0)break;i.push(e)}else if(e<2048){if((n-=2)<0)break;i.push(e>>6|192,63&e|128)}else if(e<65536){if((n-=3)<0)break;i.push(e>>12|224,e>>6&63|128,63&e|128)}else{if(!(e<1114112))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}}return i}function F(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(U,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,n,e,r){for(var o=0;o<r&&!(o+e>=n.length||o>=t.length);++o)n[o+e]=t[o];return o}}).call(this,e(7))},function(t,n,e){"use strict";n.byteLength=function(t){var n=f(t),e=n[0],r=n[1];return 3*(e+r)/4-r},n.toByteArray=function(t){var n,e,r=f(t),u=r[0],a=r[1],c=new i(function(t,n,e){return 3*(n+e)/4-e}(0,u,a)),s=0,l=a>0?u-4:u;for(e=0;e<l;e+=4)n=o[t.charCodeAt(e)]<<18|o[t.charCodeAt(e+1)]<<12|o[t.charCodeAt(e+2)]<<6|o[t.charCodeAt(e+3)],c[s++]=n>>16&255,c[s++]=n>>8&255,c[s++]=255&n;2===a&&(n=o[t.charCodeAt(e)]<<2|o[t.charCodeAt(e+1)]>>4,c[s++]=255&n);1===a&&(n=o[t.charCodeAt(e)]<<10|o[t.charCodeAt(e+1)]<<4|o[t.charCodeAt(e+2)]>>2,c[s++]=n>>8&255,c[s++]=255&n);return c},n.fromByteArray=function(t){for(var n,e=t.length,o=e%3,i=[],u=0,a=e-o;u<a;u+=16383)i.push(s(t,u,u+16383>a?a:u+16383));1===o?(n=t[e-1],i.push(r[n>>2]+r[n<<4&63]+"==")):2===o&&(n=(t[e-2]<<8)+t[e-1],i.push(r[n>>10]+r[n>>4&63]+r[n<<2&63]+"="));return i.join("")};for(var r=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,c=u.length;a<c;++a)r[a]=u[a],o[u.charCodeAt(a)]=a;function f(t){var n=t.length;if(n%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var e=t.indexOf("=");return-1===e&&(e=n),[e,e===n?0:4-e%4]}function s(t,n,e){for(var o,i,u=[],a=n;a<e;a+=3)o=(t[a]<<16&16711680)+(t[a+1]<<8&65280)+(255&t[a+2]),u.push(r[(i=o)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return u.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,n){n.read=function(t,n,e,r,o){var i,u,a=8*o-r-1,c=(1<<a)-1,f=c>>1,s=-7,l=e?o-1:0,h=e?-1:1,p=t[n+l];for(l+=h,i=p&(1<<-s)-1,p>>=-s,s+=a;s>0;i=256*i+t[n+l],l+=h,s-=8);for(u=i&(1<<-s)-1,i>>=-s,s+=r;s>0;u=256*u+t[n+l],l+=h,s-=8);if(0===i)i=1-f;else{if(i===c)return u?NaN:1/0*(p?-1:1);u+=Math.pow(2,r),i-=f}return(p?-1:1)*u*Math.pow(2,i-r)},n.write=function(t,n,e,r,o,i){var u,a,c,f=8*i-o-1,s=(1<<f)-1,l=s>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,d=r?1:-1,v=n<0||0===n&&1/n<0?1:0;for(n=Math.abs(n),isNaN(n)||n===1/0?(a=isNaN(n)?1:0,u=s):(u=Math.floor(Math.log(n)/Math.LN2),n*(c=Math.pow(2,-u))<1&&(u--,c*=2),(n+=u+l>=1?h/c:h*Math.pow(2,1-l))*c>=2&&(u++,c/=2),u+l>=s?(a=0,u=s):u+l>=1?(a=(n*c-1)*Math.pow(2,o),u+=l):(a=n*Math.pow(2,l-1)*Math.pow(2,o),u=0));o>=8;t[e+p]=255&a,p+=d,a/=256,o-=8);for(u=u<<o|a,f+=o;f>0;t[e+p]=255&u,p+=d,u/=256,f-=8);t[e+p-d]|=128*v}},function(t,n){var e={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==e.call(t)}},function(t,n,e){"use strict";e.r(n);var r={};e.r(r),e.d(r,"app",(function(){return u})),e.d(r,"styles",(function(){return a}));e(54);var o=e(3),i=e.n(o),u={merchant:"",language:"en",iframeHost:Object.prototype.hasOwnProperty.call({LIBRARY:{MODULE_NAME:"TwoPayClient",FILE_NAME:"2pay"},HOST:"https://2pay-js.2checkout.com/v1/private.html"},"HOST")?"https://2pay-js.2checkout.com/v1/private.html":"",version:"1"},a={iframe:{visibility:"hidden",top:"0",left:"0",bottom:"0",right:"0",width:"100%",border:"0px",background:"none transparent"},hiddenInput:{transform:"scale(0)",width:"0",height:"0",position:"absolute"}};function c(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.$config=n}var n,e,r;return n=t,(e=[{key:"setMerchant",value:function(t){return this.$config.app.merchant=t,this}},{key:"setHost",value:function(t){return this.$config.app.iframeHost=t,this}},{key:"setLanguage",value:function(t){return this.$config.app.language=t,this}}])&&c(n.prototype,e),r&&c(n,r),t}(),s=function(t){return new f(t)},l=e(50),h=e.n(l),p=e(51),d=e.n(p),v=e(52),y=e.n(v);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,e=_(t);return n||(n=document.body),n.appendChild(e),e}function m(t,n){var e,r=(e=t)instanceof HTMLElement?e:document.querySelector(e);if(r&&"object"===w(n))for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r.style[x(o)]=n[o]);return r}function b(t,n){null==n&&(n={});var e=Object.keys(n).map((function(t){return null===n[t]?null:t+"="+n[t]})).filter((function(t){return null!==t})).join("&"),r=d()(t,(function(t){return y()(t,"/")})).join("/");return e.length>0&&(r=r+"?"+e),r}function _(t){if("string"==typeof t)return document.createTextNode(t);var n=document.createElement(t.type);return t.children&&h()(t.children.map(_),n.appendChild.bind(n)),function(t,n){for(var e in n)if(Object.prototype.hasOwnProperty.call(n,e)){var r=e,o=n[e];switch(r){case"className":r="class";break;case"style":o=E(n[e])}var i=document.createAttribute(r);i.value=o,t.setAttributeNode(i)}}(n,t.props),n}function E(t){var n=[];for(var e in t)"string"==typeof t[e]&&n.push("".concat(x(e),": ").concat(t[e]));return n.join("; ")}function x(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}var O=e(2),j=e.n(O),A=(e(45),e(46),e(47),e(48),e(49),e(53)),S=e.n(A);function P(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function R(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,n,e){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,n,e){var r=function(t,n){for(;!Object.prototype.hasOwnProperty.call(t,n)&&null!==(t=C(t)););return t}(t,n);if(r){var o=Object.getOwnPropertyDescriptor(r,n);return o.get?o.get.call(e):o.value}})(t,n,e||t)}function I(t,n){return(I=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function D(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=C(t);if(n){var o=C(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return M(this,e)}}function M(t,n){return!n||"object"!==T(n)&&"function"!=typeof n?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):n}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var W=function(t){!function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&I(t,n)}(i,t);var n,e,r,o=D(i);function i(){return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return n=i,(e=[{key:"initComponent",value:function(){var t=this;if(k(C(i.prototype),"initComponent",this).call(this),!this.windowData)throw new Error("The window data is not ready");var n={merchantCode:this.$config.app.merchant,language:this.$config.app.language,type:"card",style:this.$style},e={domain:this.windowData.domain};return j.a.send(this.windowData.window,"create:component",n,e).then((function(){return t.show()})),this}}])&&R(n.prototype,e),r&&R(n,r),i}(function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.$config=n,this.$style=e}var n,e,r;return n=t,(e=[{key:"render",value:function(){return this.tabbableHiddenInput=g(this.inputTemplate,this.$parentNode),this.iframe=g(this.template,this.$parentNode),this.hide(),this}},{key:"checkRender",value:function(){return this.iframe||this.render(),this}},{key:"mount",value:function(t){return this.$parentNode=document.querySelector(t),this.checkRender(),this.initComponent(),this.addHeightEventListener(),this.addTabbableEventListeners(),this}},{key:"initComponent",value:function(){return this}},{key:"hide",value:function(){return m(this.iframe,{visibility:"hidden",display:"none"}),this}},{key:"show",value:function(){return m(this.iframe,{visibility:"visible",display:"block"}),this}},{key:"generateToken",value:function(t){var n=this;return new Promise((function(e,r){if(!n.windowData)return r(new Error("The window is not ready."));var o={billingDetails:t},i={domain:n.windowData.domain};return j.a.send(n.windowData.window,"generate:token",o,i).then((function(t){t.data.token?e(t.data.token):r(new Error(t.data.error))})).catch(r)}))}},{key:"resetForm",value:function(){var t=this;return new Promise((function(n,e){if(!t.windowData)return e(new Error("The window is not ready."));var r={domain:t.windowData.domain};return j.a.send(t.windowData.window,"form:reset",{},r).then(n).catch(e)}))}},{key:"addHeightEventListener",value:function(){var t=this;if(!this.windowData)throw new Error("The window data is not ready.");var n={window:this.windowData.window};return j.a.on("update:height",n,(function(n){m(t.iframe,{height:n.data+"px"})})),this}},{key:"addTabbableEventListeners",value:function(){if(!this.windowData)throw new Error("The window data is not ready.");var t={window:this.windowData.window};return this.sendFocusEventToIframe(t),this.listenIframeUpperInputFocus(t),this}},{key:"sendFocusEventToIframe",value:function(t){var n=this;this.tabbableHiddenInput.addEventListener("focus",(function(){if(!n.windowData)throw new Error("The window data is not ready.");j.a.send(n.windowData.window,"focusEvent:tab-above-the-iframe",{},t)}))}},{key:"listenIframeUpperInputFocus",value:function(t){var n=this;j.a.on("focusEvent:shift-tab-first-iframe-element",t,(function(){n.retrieveAndFocusUpperInput()}))}},{key:"retrieveAndFocusUpperInput",value:function(){var t=this.getUpperInput();t instanceof HTMLElement&&t.focus()}},{key:"getTabbableNodes",value:function(){return S()(document)}},{key:"getUpperInput",value:function(){var t=this.getTabbableNodes(),n=t.indexOf(this.tabbableHiddenInput);return n<=0?null:t[n-1]}},{key:"template",get:function(){var t=this.$config.styles;return{type:"iframe",props:{id:"two-co-iframe",src:b([this.$config.app.iframeHost],{}),style:t.iframe}}}},{key:"inputTemplate",get:function(){return{type:"input",props:{id:"2checkout-above-iframe-hidden-tabbable-input",style:this.$config.styles.hiddenInput}}}},{key:"windowData",get:function(){if(!this._windowData){var t=this.iframe.getAttribute("src");if(t){var n=this.iframe.contentWindow,e=document.createElement("a");e.href=t;var r=80!==parseInt(e.port)&&443!==parseInt(e.port)&&""!==e.port?":"+e.port:"",o=e.protocol+"//"+e.hostname+r;this._windowData={domain:o,window:n}}}return this._windowData}},{key:"windowDomain",get:function(){return this.windowData?this.windowData.domain:null}}])&&P(n.prototype,e),r&&P(n,r),t}());function N(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var L=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.$config=n}var n,e,r;return n=t,(e=[{key:"create",value:function(t,n){if("card"!==t)throw new Error("This component is not supported");return this.$component=new W(this.$config,n),this.$component}}])&&N(n.prototype,e),r&&N(n,r),t}(),U=function(t){return new L(t)};function B(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var z=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,r;return n=t,(e=[{key:"generate",value:function(t,n){return t.generateToken(n)}}])&&B(n.prototype,e),r&&B(n,r),t}(),F=function(){return new z};function Y(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $=function(){function t(){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t)}var n,e,r;return n=t,(e=[{key:"reset",value:function(t){return t.resetForm()}}])&&Y(n.prototype,e),r&&Y(n,r),t}(),H=function(){return new $};function q(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e.d(n,"default",(function(){return J}));var G=(i.a.register("config",[],r),i.a.register("setupService",["config"],s),i.a.register("componentService",["config"],U),i.a.register("tokenService",[],F),i.a.register("formService",[],H),i.a),J=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),G.get("setupService").setMerchant(n)}var n,e,r;return n=t,(e=[{key:"setup",get:function(){return G.get("setupService")}},{key:"components",get:function(){return G.get("componentService")}},{key:"tokens",get:function(){return G.get("tokenService")}},{key:"form",get:function(){return G.get("formService")}}])&&q(n.prototype,e),r&&q(n,r),t}()}]).default}));
